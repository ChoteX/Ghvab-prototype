<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chapter I - Basic Properties of Natural and Integer Numbers</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Latin+Modern+Roman:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="katex/katex.min.css">
    <script defer src="katex/katex.min.js"></script>
    <script defer src="katex/contrib/auto-render.min.js"></script>
    <style>
        /* LaTeX-style typography */
        * {
            box-sizing: border-box;
        }
        
        html {
            scroll-behavior: smooth;
        }
        
        body {
            font-family: 'Latin Modern Roman', 'Computer Modern', 'Times New Roman', serif;
            font-size: 12pt;
            line-height: 1.35;
            color: #111;
            background-color: #f5f5f8;
            margin: 0;
        }
        
        /* LaTeX-style headings */
        h1 {
            font-size: 17pt;
            font-weight: bold;
            text-align: center;
            margin: 1.5em 0 1em 0;
            letter-spacing: 0.02em;
        }
        
        h2 {
            font-size: 14pt;
            font-weight: bold;
            margin: 1.3em 0 0.8em 0;
            letter-spacing: 0.01em;
        }
        
        h3 {
            font-size: 12pt;
            font-weight: bold;
            margin: 1em 0 0.6em 0;
        }
        
        /* LaTeX-style paragraphs */
        p {
            margin: 0 0 0.8em 0;
            text-align: justify;
            text-indent: 0;
        }
        
        /* LaTeX-style emphasis */
        em {
            font-style: italic;
        }
        
        strong {
            font-weight: bold;
        }
        
        /* LaTeX-style lists */
        ol, ul {
            margin: 0.8em 0;
            padding-left: 2em;
        }
        
        li {
            margin: 0.3em 0;
        }
        
        /* KaTeX styling for LaTeX integration */
        .katex {
            font-family: 'KaTeX_Main', 'Latin Modern Roman', 'Computer Modern', 'Times New Roman', serif;
        }
        
        .katex-display {
            margin: 1.2em 0;
        }
        
        /* LaTeX-style sections */
        section {
            margin: 1.5em 0;
        }
        
        /* LaTeX-style horizontal rules */
        hr {
            border: none;
            border-top: 1px solid #000;
            margin: 2em 0;
        }
        
        /* Exercise numbering - LaTeX style */
        .exercise-list {
            counter-reset: exercise-counter;
        }
        
        .exercise-item {
            counter-increment: exercise-counter;
            margin: 1em 0;
            text-align: justify;
        }
        
        .exercise-item::before {
            content: "1." counter(exercise-counter) ".";
            font-weight: bold;
            margin-right: 0.5em;
        }
        
        /* Control test numbering */
        .control-list {
            counter-reset: control-counter;
        }
        
        .control-item {
            counter-increment: control-counter;
            margin: 1em 0;
            text-align: justify;
        }
        
        .control-item::before {
            content: counter(control-counter) ".";
            font-weight: bold;
            margin-right: 0.5em;
        }
        
        /* LaTeX-style indentation for sub-items */
        .ml-6 {
            margin-left: 1.5em;
        }
        
        /* LaTeX-style spacing utilities */
        .mb-2 { margin-bottom: 0.5em; }
        .mb-3 { margin-bottom: 0.7em; }
        .mb-4 { margin-bottom: 1em; }
        .mb-6 { margin-bottom: 1.5em; }
        .mb-8 { margin-bottom: 2em; }
        
        .mt-8 { margin-top: 2em; }
        
        .text-center {
            text-align: center;
        }
        
        .space-y-4 > * + * {
            margin-top: 1em;
        }
        
        /* LaTeX-style font sizes */
        .text-2xl {
            font-size: 17pt;
            font-weight: bold;
        }
        
        .text-xl {
            font-size: 14pt;
            font-weight: bold;
        }
        
        .text-lg {
            font-size: 12pt;
            font-weight: bold;
        }
        
        .font-bold {
            font-weight: bold;
        }
        
        .text-sm {
            font-size: 10pt;
        }
        
        /* LaTeX-style colors */
        .text-gray-600 {
            color: #555;
        }
        
        /* Remove any remaining Tailwind-specific styling */
        .leading-relaxed {
            line-height: 1.25;
        }
        
        /* Ensure mathematical expressions blend seamlessly */
        .katex .mord {
            font-family: 'KaTeX_Main', 'Latin Modern Roman', 'Computer Modern', 'Times New Roman', serif;
        }
        
        /* Layout */
        .page-layout {
            display: flex;
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 32px 64px;
            gap: 32px;
        }
        
        .sidebar {
            position: sticky;
            top: 32px;
            align-self: flex-start;
            width: 260px;
            background: #fff;
            border: 1px solid #e0e0e5;
            border-radius: 12px;
            padding: 24px 20px;
            box-shadow: 0 8px 26px rgba(15, 23, 42, 0.08);
            max-height: calc(100vh - 64px);
            overflow-y: auto;
        }
        
        .sidebar h2 {
            font-size: 13pt;
            margin-top: 0;
            margin-bottom: 12px;
            text-align: left;
        }
        
        .toc-list,
        .toc-sublist {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        
        .toc-link {
            display: block;
            color: #2c3e50;
            text-decoration: none;
            font-size: 11pt;
            padding: 6px 10px;
            border-radius: 8px;
            transition: background-color 0.2s ease, color 0.2s ease;
        }
        
        .toc-link:hover,
        .toc-link:focus {
            background-color: #eef2ff;
            color: #1d4ed8;
        }
        
        .toc-link.active {
            background-color: #dbeafe;
            color: #1e40af;
            font-weight: bold;
        }
        
        .toc-link.active-parent {
            background-color: #eef2ff;
            color: #1d4ed8;
            font-weight: bold;
        }
        
        .toc-sublist {
            margin-left: 12px;
            border-left: 1px solid #e0e0e5;
            padding-left: 12px;
            margin-top: 6px;
        }
        
        .main-content {
            flex: 1;
            background: #fff;
            border-radius: 16px;
            padding: 48px 48px 64px;
            border: 1px solid #e5e5eb;
            box-shadow: 0 12px 34px rgba(15, 23, 42, 0.08);
        }
        
        .main-content > *:first-child {
            margin-top: 0;
        }
        
        /* Quiz styling */
        .quiz-question {
            padding: 16px 20px;
            border: 1px solid #e5e7eb;
            border-radius: 12px;
            background-color: #fafafc;
        }
        
        .quiz-question + .quiz-question {
            margin-top: 16px;
        }
        
        .quiz-choices {
            margin-top: 12px;
            display: grid;
            gap: 8px;
        }
        
        .quiz-choice {
            display: flex;
            gap: 8px;
            align-items: baseline;
            padding: 8px 10px;
            border-radius: 8px;
            border: 1px solid transparent;
            transition: background-color 0.2s ease, border-color 0.2s ease;
            cursor: pointer;
        }
        
        .quiz-choice input {
            margin-top: 2px;
        }
        
        .quiz-choice:hover {
            background-color: #eef2ff;
        }
        
        .quiz-choice.correct {
            border-color: #22c55e;
            background-color: #f0fdf4;
        }
        
        .quiz-choice.incorrect {
            border-color: #ef4444;
            background-color: #fef2f2;
        }
        
        .quiz-feedback {
            margin-top: 10px;
            font-size: 11pt;
        }
        
        .quiz-feedback strong {
            display: block;
            margin-bottom: 4px;
        }
        
        .quiz-result {
            margin-top: 24px;
            padding: 16px 20px;
            border-radius: 12px;
            border: 1px solid #bfdbfe;
            background-color: #eff6ff;
            font-weight: bold;
        }
        
        .quiz-actions {
            margin-top: 20px;
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
        }
        
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            border: none;
            border-radius: 10px;
            padding: 10px 20px;
            cursor: pointer;
            font-size: 11pt;
            transition: transform 0.1s ease, box-shadow 0.2s ease;
        }
        
        .btn-primary {
            background-color: #1d4ed8;
            color: #fff;
            box-shadow: 0 8px 18px rgba(29, 78, 216, 0.25);
        }
        
        .btn-primary:hover {
            transform: translateY(-1px);
            box-shadow: 0 10px 28px rgba(29, 78, 216, 0.35);
        }
        
        .btn-secondary {
            background-color: #e5e7eb;
            color: #111;
        }
        
        .hidden {
            display: none !important;
        }
        
        @media (max-width: 1100px) {
            .page-layout {
                flex-direction: column;
                padding: 32px 20px 48px;
            }
            
            .sidebar {
                position: relative;
                width: 100%;
                max-height: none;
            }
        }
        
        @media (max-width: 768px) {
            .main-content {
                padding: 32px 20px 48px;
            }
            
            h1 {
                font-size: 16pt;
            }
            
            h2 {
                font-size: 13pt;
            }
            
            .toc-link {
                font-size: 12pt;
            }
        }
</style>
</head>
<body>
    <div class="page-layout">
        <aside class="sidebar">
            <h2>Contents</h2>
            <nav aria-label="Table of Contents">
                <ul class="toc-list" id="toc"></ul>
            </nav>
        </aside>
        <main class="main-content" id="main-content">
            <!-- Chapter Title -->
            <div class="text-center mb-8">
            <h1 class="text-2xl font-bold mb-2">Chapter I</h1>
            <h2 class="text-xl font-bold">Basic Properties of Natural and Integer Numbers</h2>
        </div>

        <!-- Natural Numbers and Their Properties -->
        <section class="mb-8">
            <h2 class="text-xl font-bold mb-4">Natural Numbers and Their Properties</h2>
            <div class="mb-4">
                <p class="mb-4">Sequence of natural numbers: \(1\dotsep 2\dotsep 3\dotsep 4\dotsep \ldots\)</p>
                <p class="mb-4">Set of integers: \(\ldots\dotsep -3\dotsep -2\dotsep -1\dotsep 0\dotsep 1\dotsep 2\dotsep 3\dotsep \ldots\)</p>
            </div>

            <!-- Properties of Addition -->
            <div class="mb-6">
                <h3 class="text-lg font-semibold mb-3">Properties of Addition</h3>
                <p class="mb-3">For all \(a,b,c\in\mathbb{Z}\):</p>
                <div class="mb-4">
                    $$\begin{align}
                    a+b&amp;=b+a \quad\text{(commutativity)},\\
                    (a+b)+c&amp;=a+(b+c) \quad\text{(associativity)}.
                    \end{align}$$
                </div>
                <p class="mb-4"><strong>Example.</strong> \(1925+317+3075= (1925+317)+3075 = 317+(1925+3075)=317+5000=5317.\)</p>
            </div>

            <!-- Properties of Multiplication -->
            <div class="mb-6">
                <h3 class="text-lg font-semibold mb-3">Properties of Multiplication</h3>
                <p class="mb-3">For all \(a,b,c\in\mathbb{Z}\):</p>
                <div class="mb-4">
                    $$\begin{align}
                    ab&amp;=ba \quad\text{(commutativity)},\\
                    (ab)c&amp;=a(bc) \quad\text{(associativity)},\\
                    (a+b)c&amp;=ac+bc \quad\text{(distributivity over addition)}.
                    \end{align}$$
                </div>
            </div>

            <!-- Distribution of Subtraction -->
            <div class="mb-6">
                <h3 class="text-lg font-semibold mb-3">Distribution of Subtraction</h3>
                <p class="mb-4">\((a-b)c=ac-bc\). <em>Example:</em> \(1756\cdot 2179-1756\cdot 2178 = 1756(2179-2178)=1756\cdot 1=1756\).</p>
            </div>

            <!-- Decimal Representation of Numbers -->
            <div class="mb-6">
                <h3 class="text-lg font-semibold mb-3">Decimal Representation of Numbers</h3>
                <p class="mb-3">Digits: \(0,1,2,3,4,5,6,7,8,9\).</p>
                <p class="mb-4">For example, \(4193=3 + 9\cdot 10 + 1\cdot 10^2 + 4\cdot 10^3 = 3 + 90 + 100 + 4000\).</p>
            </div>
        </section>

        <!-- Combinations and Simple Transformations of Numbers -->
        <section class="mb-8">
            <h2 class="text-xl font-bold mb-4">Combinations and Simple Transformations of Numbers</h2>
            <p class="mb-3">The following examples show distributivity and grouping in decimal representation:</p>
            <div class="mb-4">
                $$\begin{align}
                \overline{ab}&amp;=b+10a,\\
                \overline{abc}&amp;=c+10b+100a.
                \end{align}$$
            </div>
            <p class="mb-4">Hence, \(ab+ba = (b+10a) + (a+10b) = 11(a+b)\).</p>

            <!-- Computational Exercises -->
            <div class="mb-6">
                <h3 class="text-lg font-semibold mb-3">Computational Exercises</h3>
                <ol class="list-decimal list-inside space-y-2 ml-4">
                    <li>Compute \(48+64+96\) and show that it is a multiple of \(16\).</li>
                    <li>Prove that the result of the expression \(105\cdot 48:93:54\) does not change under substitution (see explanation in the text).</li>
                    <li>Consider sets \(A\) and \(B\) and check whether \(A=B\) under the given conditions.</li>
                    <li>Pair even and odd numbers in the lists \((0,2,4,6,\ldots)\) and \((1,3,5,7,\ldots)\).</li>
                    <li>Identify which numbers are multiples of \(5\) — justify your reasoning.</li>
                </ol>
            </div>
        </section>

        <!-- Even and Odd Sequences -->
        <section class="mb-8">
            <h2 class="text-xl font-bold mb-4">Even and Odd Sequences</h2>
            <p class="mb-3">If a number is divisible by 2 without remainder, it is <em>even</em>; otherwise, it is <em>odd</em>. Typical examples:</p>
            <div class="mb-4">
                $$\begin{align}
                \ldots,-4,-2,0,2,4,6,\ldots \quad &amp;\text{(even)}\\
                \ldots,-3,-1,1,3,5,\ldots \quad &amp;\text{(odd)}
                \end{align}$$
            </div>
        </section>

        <!-- Prime Numbers and Factorization -->
        <section class="mb-8">
            <h2 class="text-xl font-bold mb-4">Prime Numbers and Factorization</h2>
            <p class="mb-3">Prime numbers are: \(2,3,5,7,11,13,\ldots\)</p>
            <p class="mb-3">For example:</p>
            <div class="mb-4">
                $$\begin{align}
                14&amp;=2\cdot 7, &amp; 81&amp;=3\cdot 3\cdot 3\cdot 3, &amp; 484&amp;=2\cdot 2\cdot 11\cdot 11.
                \end{align}$$
            </div>

            <!-- Greatest Common Divisor and Least Common Multiple -->
            <div class="mb-6">
                <h3 class="text-lg font-semibold mb-3">Greatest Common Divisor \(D\) and Least Common Multiple \(K\)</h3>
                <p class="mb-3">Example: Find \(D(126,540,630)\).</p>
                <div class="mb-4">
                    $$\begin{align}
                    126&amp;=2\cdot 3^2\cdot 7,\quad 540=2^2\cdot 3^3\cdot 5,\quad 630=2\cdot 3^2\cdot 5\cdot 7,\\
                    D(126,540,630)&amp;=2^1\cdot 3^2=18.
                    \end{align}$$
                </div>
                <p class="mb-3">Example: Find \(K(270,300,315)\).</p>
                <div class="mb-4">
                    $$\begin{align}
                    270&amp;=2\cdot 3^3\cdot 5, \quad 300=2^2\cdot 3\cdot 5^2, \quad 315=3^2\cdot 5\cdot 7,\\
                    K(270,300,315)&amp;=2^2\cdot 3^3\cdot 5^2\cdot 7=18900.
                    \end{align}$$
                </div>
            </div>
        </section>

        <!-- Identities of Sums and Products -->
        <section class="mb-8">
            <h2 class="text-xl font-bold mb-4">Identities of Sums and Products</h2>
            <div class="mb-4">
                $$\begin{align}
                8+79+780+7781+77782+777783 &amp;= 777783-6,\\
                1+2+3+4+5+6 &amp;= 21,\\
                7778\cdot 7779\cdot 7780\cdot 7781\cdot 7782\cdot 7783 &amp;\text{ — consider divisibility by 7.}
                \end{align}$$
            </div>
        </section>

        <!-- Number Systems -->
        <section class="mb-8">
            <h2 class="text-xl font-bold mb-4">Number Systems</h2>
            <p class="mb-3">Decimal and binary representations.</p>
            <div class="mb-4">
                $$\begin{align}
                100 &amp;= (1100100)_2,\\
                (10011)_2&amp;=1\cdot 2^4+0\cdot 2^3+0\cdot 2^2+1\cdot 2^1+1\cdot 2^0=19,\\
                1029&amp;=1\cdot 10^3+0\cdot 10^2+2\cdot 10^1+9\cdot 10^0 = 1000+20+9.
                \end{align}$$
            </div>
        </section>

        <!-- Horizontal Rule -->
        <hr class="border-t-2 border-gray-400 my-8">

        <!-- Part II -->
        <div class="text-center mb-8">
            <h1 class="text-2xl font-bold mb-2">Part II</h1>
            <h2 class="text-xl font-bold">§ 1. Natural and Integer Numbers</h2>
        </div>

        <!-- Exercise Set A -->
        <section class="mb-8">
            <h2 class="text-xl font-bold mb-6">Exercise set A</h2>
            
            <div class="space-y-4 exercise-list">
                <div class="exercise-item">
                    <span class="font-bold">1.1.</span> Which of the following numbers are prime?<br>
                    <span class="ml-6">(1) 55&nbsp;&nbsp;&nbsp;&nbsp;(2) 617&nbsp;&nbsp;&nbsp;&nbsp;(3) 5027&nbsp;&nbsp;&nbsp;&nbsp;(4) 42028</span>
                </div>
                
                <div class="exercise-item">
                    <span class="font-bold">1.2.</span> Which of the following numbers are composite?<br>
                    <span class="ml-6">(1) 389&nbsp;&nbsp;&nbsp;&nbsp;(2) 1507&nbsp;&nbsp;&nbsp;&nbsp;(3) 323061&nbsp;&nbsp;&nbsp;&nbsp;(4) 52713</span>
                </div>
                
                <div class="exercise-item">
                    <span class="font-bold">1.3.</span> Determine the parity (even/odd) of the following numbers:<br>
                    <span class="ml-6">(1) 531&nbsp;&nbsp;&nbsp;&nbsp;(2) 2399&nbsp;&nbsp;&nbsp;&nbsp;(3) 4057&nbsp;&nbsp;&nbsp;&nbsp;(4) 20712</span>
                </div>
                
                <div class="exercise-item">
                    <span class="font-bold">1.4.</span> Choose the correct statements about integers:<br>
                    <div class="ml-6">
                        (1) and (2) <em>[statement variants in the source]</em><br>
                        (3) <em>It is possible to form ...</em><br>
                        (4) <em>Zero is neither positive nor negative.</em>
                    </div>
                </div>
                
                <div class="exercise-item">
                    <span class="font-bold">1.5.</span> Determine the sign of each result (positive/negative/zero) <em>without</em> computing the exact value.<br>
                    <span class="ml-6">(Context: sums/products with indicated signs.)</span>
                </div>
                
                <div class="exercise-item">
                    <span class="font-bold">1.6.</span> Which of the following are integers?<br>
                    <div class="ml-6">
                        (1) \(a+b\)&nbsp;&nbsp;&nbsp;&nbsp;(2) \(a-b\)&nbsp;&nbsp;&nbsp;&nbsp;(3) \(c+d\)&nbsp;&nbsp;&nbsp;&nbsp;(4) \(\frac{c}{d}\)&nbsp;&nbsp;&nbsp;&nbsp;(5) \(cd\)&nbsp;&nbsp;&nbsp;&nbsp;(6) \(a+c\)&nbsp;&nbsp;&nbsp;&nbsp;(7) \(a-c\)&nbsp;&nbsp;&nbsp;&nbsp;(8) \(ac\)&nbsp;&nbsp;&nbsp;&nbsp;(9) \(2c+a\)<br>
                        (10) \(2c-3a\)&nbsp;&nbsp;&nbsp;&nbsp;(11) \(a^2-c^2\)&nbsp;&nbsp;&nbsp;&nbsp;(12) \(3a^2+2c^2\)
                    </div>
                </div>
                
                <div class="exercise-item">
                    <span class="font-bold">1.7.</span> Evaluate (order of operations and parentheses):<br>
                    <span class="ml-6">(1) \(24\)&nbsp;&nbsp;&nbsp;&nbsp;(2) \(77\)&nbsp;&nbsp;&nbsp;&nbsp;(3) \(128\)&nbsp;&nbsp;&nbsp;&nbsp;(4) \(4128\) <em>[short practice items]</em></span>
                </div>
                
                <div class="exercise-item">
                    <span class="font-bold">1.8.</span> Find the least common multiple (LCM) of the following pairs (or sets) of integers.<br>
                    <span class="ml-6">(1) 28&nbsp;&nbsp;&nbsp;&nbsp;(2) 99&nbsp;&nbsp;&nbsp;&nbsp;(3) 200&nbsp;&nbsp;&nbsp;&nbsp;(4) 532</span>
                </div>
                
                <div class="exercise-item">
                    <span class="font-bold">1.9.</span> Find the greatest common divisor (GCD) of the following integers.<br>
                    <span class="ml-6">(1) 12&nbsp;&nbsp;&nbsp;&nbsp;(2) 13&nbsp;&nbsp;&nbsp;&nbsp;(3) 50&nbsp;&nbsp;&nbsp;&nbsp;(4) 120</span>
                </div>
                
                <div class="exercise-item">
                    <span class="font-bold">1.10.</span> How many natural divisors does \(66\) have?
                </div>
                
                <div class="exercise-item">
                    <span class="font-bold">1.11.</span> Find the number of common divisors of the given numbers.<br>
                    <span class="ml-6">(1) 15&nbsp;&nbsp;&nbsp;&nbsp;(2) 19&nbsp;&nbsp;&nbsp;&nbsp;(3) 27&nbsp;&nbsp;&nbsp;&nbsp;(4) 48</span>
                </div>
                
                <div class="exercise-item">
                    <span class="font-bold">1.12.</span> Compute the LCM of each pair:<br>
                    <div class="ml-6">
                        (1) \(12\) and \(42\)&nbsp;&nbsp;&nbsp;&nbsp;(2) \(240\) and \(360\)&nbsp;&nbsp;&nbsp;&nbsp;(3) \(1680\) and \(4200\)&nbsp;&nbsp;&nbsp;&nbsp;(4) \(180, 270, 450\)
                    </div>
                </div>
                
                <div class="exercise-item">
                    <span class="font-bold">1.13.</span> Compute the GCD of each group:<br>
                    <div class="ml-6">
                        (1) \(12\) and \(15\)&nbsp;&nbsp;&nbsp;&nbsp;(2) \(24, 30, 60\)&nbsp;&nbsp;&nbsp;&nbsp;(3) \(7, 8, 13\)&nbsp;&nbsp;&nbsp;&nbsp;(4) \(20, 65, 125\)
                    </div>
                </div>
                
                <div class="exercise-item">
                    <span class="font-bold">1.14.</span> Simplify the following expressions:<br>
                    <div class="ml-6">
                        (1) \(2^5\cdot 3^7\cdot 5^{-3}\) and \(2^1\cdot 3^3\cdot 5^2\)<br>
                        (2) \(2^{-7}\cdot 3^2\) and \(2^2\cdot 7^3\) <em>[standardize powers per source]</em>
                    </div>
                </div>
                
                <div class="exercise-item">
                    <span class="font-bold">1.15.</span> Word problems with divisibility (paraphrased from the scan):<br>
                    <div class="ml-6">
                        (1) If a number leaves remainder \(n\) upon division by \(m\), what is the remainder of ...?<br>
                        (2) If an integer increases by \(+2\), how does the parity change?<br>
                        (3) <em>[Divisibility with sums]</em><br>
                        (4) If an integer increases by \(+1\), how does ...?
                    </div>
                </div>
                
                <!-- Continue with more exercises (16-38) -->
                <div class="exercise-item">
                    <span class="font-bold">1.16.</span> Word problems with divisibility (paraphrased from the scan):<br>
                    <div class="ml-6">
                        (1) If a number leaves remainder \(n\) upon division by \(m\), what is the remainder of ...?<br>
                        (2) If an integer increases by \(+2\), how does the parity change?<br>
                        (3) <em>[Divisibility with sums]</em><br>
                        (4) If an integer increases by \(+1\), how does ...?
                    </div>
                </div>
                
                <div class="exercise-item">
                    <span class="font-bold">1.17.</span> Construct the smallest (or largest) \(n\)-digit number satisfying the given digit constraints. <em>[as in source]</em>
                </div>
                
                <div class="exercise-item">
                    <span class="font-bold">1.18.</span> How many integers satisfy the given inequality/interval? <em>[count of integer solutions]</em>
                </div>
                
                <div class="exercise-item">
                    <span class="font-bold">1.19.</span> A class problem about seating/arrangement with totals 30, 40, and 47. Determine how many ... <em>[as in source]</em>
                </div>
                
                <div class="exercise-item">
                    <span class="font-bold">1.20.</span> Arithmetic with mixed operations (choose the correct result):<br>
                    <div class="ml-6">
                        (1) \(1*00\)&nbsp;&nbsp;&nbsp;&nbsp;(2) \(25*8\)&nbsp;&nbsp;&nbsp;&nbsp;(3) \(4*1\)&nbsp;&nbsp;&nbsp;&nbsp;(4) \(*888\)<br>
                        <em>[Here * denotes juxtaposition in the source; rewrite as needed in class.]</em>
                    </div>
                </div>
                
                <div class="exercise-item">
                    <span class="font-bold">1.21.</span> Determine the place value of the underlined digit in each number:<br>
                    <div class="ml-6">
                        (1) \(\underline{5}4312\)&nbsp;&nbsp;&nbsp;&nbsp;(2) \(4532\underline{\phantom{0}}\)&nbsp;&nbsp;&nbsp;&nbsp;(3) \(32*25\)&nbsp;&nbsp;&nbsp;&nbsp;(4) \(*3260\)&nbsp;&nbsp;&nbsp;&nbsp;(5) \(423*0\)&nbsp;&nbsp;&nbsp;&nbsp;(6) \(*2310\) <em>[positions per source]</em>
                    </div>
                </div>
                
                <div class="exercise-item">
                    <span class="font-bold">1.22.</span> Write the following large numbers using grouping (with spaces) and in words:<br>
                    <span class="ml-6">(1) 1275&nbsp;&nbsp;&nbsp;&nbsp;(2) 33333&nbsp;&nbsp;&nbsp;&nbsp;(3) 10203040&nbsp;&nbsp;&nbsp;&nbsp;(4) 1919191919</span>
                </div>
                
                <div class="exercise-item">
                    <span class="font-bold">1.23.</span> Two word problems involving time/rate "5 days" and "7 days" scenarios (LCM/GCD applications). <em>[as in source]</em>
                </div>
                
                <div class="exercise-item">
                    <span class="font-bold">1.24.</span> If \(a\) and \(b\) are integers and \(a-b\) is divisible by \(5\), determine which expressions are divisible by \(5\). <em>[per source]</em>
                </div>
                
                <div class="exercise-item">
                    <span class="font-bold">1.25.</span> If an integer is divisible by \(17\) and another related quantity equals \(8\), what can be said about \(a+b\) modulo \(17\)? <em>[per source]</em>
                </div>
                
                <div class="exercise-item">
                    <span class="font-bold">1.26.</span> Short answers:<br>
                    <div class="ml-6">
                        (1) <em>Choose the correct option based on sign/size.</em><br>
                        (2) A rounding/estimation task to the nearest 10; then to the nearest 100. <em>[as in source]</em>
                    </div>
                </div>
                
                <div class="exercise-item">
                    <span class="font-bold">1.27.</span> Order the following integers on the number line:<br>
                    <div class="ml-6">
                        (1) from \(-2\) to \(0\)&nbsp;&nbsp;&nbsp;&nbsp;(2) from \(-2\) to \(3\)&nbsp;&nbsp;&nbsp;&nbsp;(3) from \(-5\) to \(1\)&nbsp;&nbsp;&nbsp;&nbsp;(4) from \(-1\) to \(9\)
                    </div>
                </div>
                
                <div class="exercise-item">
                    <span class="font-bold">1.28.</span> Compute:<br>
                    <div class="ml-6">
                        (1) \(-2+5-6\)&nbsp;&nbsp;&nbsp;&nbsp;(2) \(-11-(-3)\)&nbsp;&nbsp;&nbsp;&nbsp;(3) \(14-(-4)\)&nbsp;&nbsp;&nbsp;&nbsp;(4) \(-17+(+2)\)<br>
                        (5) \((-2-3)+2+5\)&nbsp;&nbsp;&nbsp;&nbsp;(6) \((-2+6)+(-6)\)&nbsp;&nbsp;&nbsp;&nbsp;(7) \((-2-5)-(+3-7)\)&nbsp;&nbsp;&nbsp;&nbsp;(8) \((-10+3-4)(4-6)\)
                    </div>
                </div>
                
                <div class="exercise-item">
                    <span class="font-bold">1.29.</span> Compute:<br>
                    <div class="ml-6">
                        (1) \(3(9-11)-4(8-9)\)&nbsp;&nbsp;&nbsp;&nbsp;(2) \(-5(-7-5)+3(6-9)\)<br>
                        (3) \(\frac{5\,(9-13)\,(-4)}{-8\,(9-14)}\)&nbsp;&nbsp;&nbsp;&nbsp;(4) \(\frac{-7\,(20-11)\cdot 2}{3\,(2-16)}\)
                    </div>
                </div>
                
                <div class="exercise-item">
                    <span class="font-bold">1.30.</span> Compute:<br>
                    <div class="ml-6">
                        (1) \(36:3-9\)&nbsp;&nbsp;&nbsp;&nbsp;(2) \(36:(3-9)\)&nbsp;&nbsp;&nbsp;&nbsp;(3) \(30-15:3\)&nbsp;&nbsp;&nbsp;&nbsp;(4) \((30-15):3\)<br>
                        (5) \(240-25:(13-8)\)&nbsp;&nbsp;&nbsp;&nbsp;(6) \(120:(10-16)-20\)&nbsp;&nbsp;&nbsp;&nbsp;(7) \(50-(-20):5\)&nbsp;&nbsp;&nbsp;&nbsp;(8) \((50-(-20)):5\)
                    </div>
                </div>
                
                <div class="exercise-item">
                    <span class="font-bold">1.31.</span> Word problems:<br>
                    <div class="ml-6">
                        (1) A worker spends 6 days on one task and 70 pages on another; if 50 pages are ... determine how many days are needed for ...<br>
                        (2) A number \(152\;2\underline{\phantom{0}}3\) is divisible by 16; find the missing digit. <em>[as in source]</em>
                    </div>
                </div>
                
                <div class="exercise-item">
                    <span class="font-bold">1.32.</span> In class A there are 10 more students than in class B. If ... When classes are combined ... find the sizes of A and B. <em>[as in source]</em>
                </div>
                
                <div class="exercise-item">
                    <span class="font-bold">1.33.</span> A rectangle with perimeter information; find side lengths given the relations and that the perimeter is 28. <em>[as in source]</em>
                </div>
                
                <div class="exercise-item">
                    <span class="font-bold">1.34.</span> A train travels 59 km in the first hour and ... Determine the total distance after 10 hours. <em>[as in source]</em>
                </div>
                
                <div class="exercise-item">
                    <span class="font-bold">1.35.</span> Let \(x,y,z\) be integers. If \(xy-3z\) is divisible by ... determine whether ...
                </div>
                
                <div class="exercise-item">
                    <span class="font-bold">1.36.</span> Choose the correct scientific notation (or magnitude) for each number:<br>
                    <span class="ml-6">(1) \(10\)&nbsp;&nbsp;&nbsp;&nbsp;(2) \(10\,000\)&nbsp;&nbsp;&nbsp;&nbsp;(3) \(41\)</span>
                </div>
                
                <div class="exercise-item">
                    <span class="font-bold">1.37.</span> Evaluate the squares (pattern recognition):<br>
                    <span class="ml-6">(1) \((11)^2\)&nbsp;&nbsp;&nbsp;&nbsp;(2) \((111)^2\)&nbsp;&nbsp;&nbsp;&nbsp;(3) \((1000)^2\)&nbsp;&nbsp;&nbsp;&nbsp;(4) \((10000)^2\)</span>
                </div>
            </div>
        </section>

        <!-- Control Test N1 (A) -->
        <section class="mb-8">
            <h2 class="text-xl font-bold mb-6">Control Test N1 (A)</h2>
            
            <form id="control-test" class="space-y-4" novalidate>
                <div class="quiz-question" data-question-id="q1">
                    <p><strong>1.</strong> Which of the following numbers is divisible by \(6\)?</p>
                    <div class="quiz-choices">
                        <label class="quiz-choice">
                            <input type="radio" name="q1" value="a">
                            <span>(a) 273</span>
                        </label>
                        <label class="quiz-choice">
                            <input type="radio" name="q1" value="b">
                            <span>(b) 412</span>
                        </label>
                        <label class="quiz-choice">
                            <input type="radio" name="q1" value="c">
                            <span>(c) 1002</span>
                        </label>
                        <label class="quiz-choice">
                            <input type="radio" name="q1" value="d">
                            <span>(d) 3004</span>
                        </label>
                    </div>
                    <div class="quiz-feedback hidden"></div>
                </div>

                <div class="quiz-question" data-question-id="q2">
                    <p><strong>2.</strong> Compute: \(400:(25-75)-200:(13-33)\)</p>
                    <div class="quiz-choices">
                        <label class="quiz-choice">
                            <input type="radio" name="q2" value="a">
                            <span>(a) \(2\)</span>
                        </label>
                        <label class="quiz-choice">
                            <input type="radio" name="q2" value="b">
                            <span>(b) \(18\)</span>
                        </label>
                        <label class="quiz-choice">
                            <input type="radio" name="q2" value="c">
                            <span>(c) \(-18\)</span>
                        </label>
                        <label class="quiz-choice">
                            <input type="radio" name="q2" value="d">
                            <span>(d) \(-2\)</span>
                        </label>
                    </div>
                    <div class="quiz-feedback hidden"></div>
                </div>

                <div class="quiz-question" data-question-id="q3">
                    <p><strong>3.</strong> In which year between 2011 and ... does the number of ... become divisible by \(5\)?</p>
                    <div class="quiz-choices">
                        <label class="quiz-choice">
                            <input type="radio" name="q3" value="a">
                            <span>(a) 2</span>
                        </label>
                        <label class="quiz-choice">
                            <input type="radio" name="q3" value="b">
                            <span>(b) 5</span>
                        </label>
                        <label class="quiz-choice">
                            <input type="radio" name="q3" value="c">
                            <span>(c) 3</span>
                        </label>
                    </div>
                    <div class="quiz-feedback hidden"></div>
                </div>

                <div class="quiz-question" data-question-id="q4">
                    <p><strong>4.</strong> Let \(a,b,c,d\) be defined by \(a=3\cdot(5-7)\), \(b=3-5-7\), \(c=ab\), \(d=a+b\). Choose the correct order:</p>
                    <div class="quiz-choices">
                        <label class="quiz-choice">
                            <input type="radio" name="q4" value="a">
                            <span>(a) \(a,c,b,d\)</span>
                        </label>
                        <label class="quiz-choice">
                            <input type="radio" name="q4" value="b">
                            <span>(b) \(c,a,d,b\)</span>
                        </label>
                        <label class="quiz-choice">
                            <input type="radio" name="q4" value="c">
                            <span>(c) \(c,d,b,a\)</span>
                        </label>
                        <label class="quiz-choice">
                            <input type="radio" name="q4" value="d">
                            <span>(d) \(c,d,a,b\)</span>
                        </label>
                    </div>
                    <div class="quiz-feedback hidden"></div>
                </div>

                <div class="quiz-question" data-question-id="q5">
                    <p><strong>5.</strong> The number \(123\) is increased by \(8\) and then decreased by \(3\). In which interval does the result lie?</p>
                    <div class="quiz-choices">
                        <label class="quiz-choice">
                            <input type="radio" name="q5" value="a">
                            <span>(a) 10</span>
                        </label>
                        <label class="quiz-choice">
                            <input type="radio" name="q5" value="b">
                            <span>(b) 15</span>
                        </label>
                        <label class="quiz-choice">
                            <input type="radio" name="q5" value="c">
                            <span>(c) 20</span>
                        </label>
                        <label class="quiz-choice">
                            <input type="radio" name="q5" value="d">
                            <span>(d) 12</span>
                        </label>
                    </div>
                    <div class="quiz-feedback hidden"></div>
                </div>

                <div class="quiz-question" data-question-id="q6">
                    <p><strong>6.</strong> A school has 155 first-graders and 62 ... Which is the nearest prime?</p>
                    <div class="quiz-choices">
                        <label class="quiz-choice">
                            <input type="radio" name="q6" value="a">
                            <span>(a) 20</span>
                        </label>
                        <label class="quiz-choice">
                            <input type="radio" name="q6" value="b">
                            <span>(b) 25</span>
                        </label>
                        <label class="quiz-choice">
                            <input type="radio" name="q6" value="c">
                            <span>(c) 27</span>
                        </label>
                        <label class="quiz-choice">
                            <input type="radio" name="q6" value="d">
                            <span>(d) 31</span>
                        </label>
                    </div>
                    <div class="quiz-feedback hidden"></div>
                </div>

                <div class="quiz-question" data-question-id="q7">
                    <p><strong>7.</strong> Which number is a multiple of \(15\)?</p>
                    <div class="quiz-choices">
                        <label class="quiz-choice">
                            <input type="radio" name="q7" value="a">
                            <span>(a) 5005</span>
                        </label>
                        <label class="quiz-choice">
                            <input type="radio" name="q7" value="b">
                            <span>(b) 4005</span>
                        </label>
                        <label class="quiz-choice">
                            <input type="radio" name="q7" value="c">
                            <span>(c) 1015</span>
                        </label>
                        <label class="quiz-choice">
                            <input type="radio" name="q7" value="d">
                            <span>(d) 2015</span>
                        </label>
                    </div>
                    <div class="quiz-feedback hidden"></div>
                </div>

                <div class="quiz-question" data-question-id="q8">
                    <p><strong>8.</strong> Find the nearest prime to \(101\) from the right and from the left.</p>
                    <div class="quiz-choices">
                        <label class="quiz-choice">
                            <input type="radio" name="q8" value="a">
                            <span>(a) 909</span>
                        </label>
                        <label class="quiz-choice">
                            <input type="radio" name="q8" value="b">
                            <span>(b) 816</span>
                        </label>
                        <label class="quiz-choice">
                            <input type="radio" name="q8" value="c">
                            <span>(c) 807</span>
                        </label>
                        <label class="quiz-choice">
                            <input type="radio" name="q8" value="d">
                            <span>(d) 809</span>
                        </label>
                    </div>
                    <div class="quiz-feedback hidden"></div>
                </div>

                <div class="quiz-question" data-question-id="q9">
                    <p><strong>9.</strong> Choose the correct factorization:</p>
                    <div class="quiz-choices">
                        <label class="quiz-choice">
                            <input type="radio" name="q9" value="a">
                            <span>(a) \(5\text{-something}\)</span>
                        </label>
                        <label class="quiz-choice">
                            <input type="radio" name="q9" value="b">
                            <span>(b) <em>[options per source: two-term vs. three-term factorization]</em></span>
                        </label>
                    </div>
                    <div class="quiz-feedback hidden"></div>
                </div>

                <div class="quiz-question" data-question-id="q10">
                    <p><strong>10.</strong> What is the smallest divisor of \(36\)?</p>
                    <div class="quiz-choices">
                        <label class="quiz-choice">
                            <input type="radio" name="q10" value="a">
                            <span>(a) 1</span>
                        </label>
                        <label class="quiz-choice">
                            <input type="radio" name="q10" value="b">
                            <span>(b) 2</span>
                        </label>
                        <label class="quiz-choice">
                            <input type="radio" name="q10" value="c">
                            <span>(c) 3</span>
                        </label>
                        <label class="quiz-choice">
                            <input type="radio" name="q10" value="d">
                            <span>(d) 4</span>
                        </label>
                    </div>
                    <div class="quiz-feedback hidden"></div>
                </div>

                <div class="quiz-question" data-question-id="q11">
                    <p><strong>11.</strong> A linear expression of the form \(2n+3\). Which of the following are possible values?</p>
                    <div class="quiz-choices">
                        <label class="quiz-choice">
                            <input type="radio" name="q11" value="a">
                            <span>(a) \(6n+1\)</span>
                        </label>
                        <label class="quiz-choice">
                            <input type="radio" name="q11" value="b">
                            <span>(b) \(6n+3\)</span>
                        </label>
                        <label class="quiz-choice">
                            <input type="radio" name="q11" value="c">
                            <span>(c) \(3n+3\)</span>
                        </label>
                        <label class="quiz-choice">
                            <input type="radio" name="q11" value="d">
                            <span>(d) \(6n-1\)</span>
                        </label>
                    </div>
                    <div class="quiz-feedback hidden"></div>
                </div>

                <div class="quiz-question" data-question-id="q12">
                    <p><strong>12.</strong> How many zeros are at the end of \(N\) if \(N\) is divisible by \(2^k\)? <em>[as in source]</em></p>
                    <div class="quiz-choices">
                        <label class="quiz-choice">
                            <input type="radio" name="q12" value="a">
                            <span>(a) \(200\)</span>
                        </label>
                        <label class="quiz-choice">
                            <input type="radio" name="q12" value="b">
                            <span>(b) \(2000\)</span>
                        </label>
                        <label class="quiz-choice">
                            <input type="radio" name="q12" value="c">
                            <span>(c) \(20000\)</span>
                        </label>
                        <label class="quiz-choice">
                            <input type="radio" name="q12" value="d">
                            <span>(d) \(10000\)</span>
                        </label>
                    </div>
                    <div class="quiz-feedback hidden"></div>
                </div>

                <div class="quiz-question" data-question-id="q13">
                    <p><strong>13.</strong> Find the units digit of \(123^5\). <em>[cyclicity of units digit]</em></p>
                    <div class="quiz-choices">
                        <label class="quiz-choice">
                            <input type="radio" name="q13" value="a">
                            <span>(a) 9</span>
                        </label>
                        <label class="quiz-choice">
                            <input type="radio" name="q13" value="b">
                            <span>(b) 8</span>
                        </label>
                        <label class="quiz-choice">
                            <input type="radio" name="q13" value="c">
                            <span>(c) 3</span>
                        </label>
                        <label class="quiz-choice">
                            <input type="radio" name="q13" value="d">
                            <span>(d) 7</span>
                        </label>
                    </div>
                    <div class="quiz-feedback hidden"></div>
                </div>

                <div class="quiz-question" data-question-id="q14">
                    <p><strong>14.</strong> Determine the missing number given that ... (divisibility by \(7\)). <em>[as in source]</em></p>
                    <div class="quiz-choices">
                        <label class="quiz-choice">
                            <input type="radio" name="q14" value="a">
                            <span>(a) 10</span>
                        </label>
                        <label class="quiz-choice">
                            <input type="radio" name="q14" value="b">
                            <span>(b) 3</span>
                        </label>
                        <label class="quiz-choice">
                            <input type="radio" name="q14" value="c">
                            <span>(c) 5</span>
                        </label>
                        <label class="quiz-choice">
                            <input type="radio" name="q14" value="d">
                            <span>(d) 4</span>
                        </label>
                    </div>
                    <div class="quiz-feedback hidden"></div>
                </div>

                <div class="quiz-actions">
                    <button type="button" class="btn btn-primary" id="finish-quiz">Finish</button>
                    <button type="button" class="btn btn-secondary" id="reset-quiz">Reset</button>
                </div>
                <div class="quiz-result hidden" id="quiz-result" role="status" aria-live="polite"></div>
            </form>
        </section>

        <!-- Final Horizontal Rule -->
        <hr class="border-t-2 border-gray-400 my-8">

        <div class="text-center text-sm text-gray-600 mt-8">
            <em>Translator's note: Some prompts were normalized where OCR made the Georgian scan ambiguous. All math content, numbering, and choices follow the uploaded PDF.</em>
        </div>
        </main>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const katexConfig = {
                delimiters: [
                    { left: "$$", right: "$$", display: true },
                    { left: "\\[", right: "\\]", display: true },
                    { left: "$", right: "$", display: false },
                    { left: "\\(", right: "\\)", display: false },
                    { left: "\\begin{align}", right: "\\end{align}", display: true },
                    { left: "\\begin{align*}", right: "\\end{align*}", display: true }
                ],
                macros: {
                    "\\dotsep": ",\\ldots,",
                    "\\Z": "\\mathbb{Z}"
                }
            };

            renderMathInElement(document.body, katexConfig);
            initializeTableOfContents();
            initializeQuiz(katexConfig);
        });

        function initializeTableOfContents() {
            const tocList = document.getElementById("toc");
            const mainContent = document.getElementById("main-content");

            if (!tocList || !mainContent) {
                return;
            }

            const headings = Array.from(mainContent.querySelectorAll("h1, h2, h3"));
            const slugCounts = Object.create(null);
            const linkRegistry = new Map();
            let currentSectionItem = null;

            headings.forEach((heading) => {
                const level = Number(heading.tagName.substring(1));
                if (level > 3) {
                    return;
                }

                const text = heading.textContent.replace(/\s+/g, " ").trim();
                if (!text) {
                    return;
                }

                if (!heading.id) {
                    heading.id = createSlug(text, slugCounts);
                }

                const link = document.createElement("a");
                link.className = "toc-link";
                link.href = `#${heading.id}`;
                link.textContent = text;
                link.addEventListener("click", (event) => {
                    event.preventDefault();
                    document.getElementById(heading.id)?.scrollIntoView({ behavior: "smooth", block: "start" });
                    setActiveTocLink(heading.id, linkRegistry);
                });

                const listItem = document.createElement("li");
                listItem.appendChild(link);

                if (level === 3 && currentSectionItem) {
                    let sublist = currentSectionItem.querySelector(".toc-sublist");
                    if (!sublist) {
                        sublist = document.createElement("ul");
                        sublist.className = "toc-sublist";
                        currentSectionItem.appendChild(sublist);
                    }
                    sublist.appendChild(listItem);
                } else {
                    tocList.appendChild(listItem);
                    currentSectionItem = listItem;
                }

                linkRegistry.set(heading.id, link);
            });

            if (linkRegistry.size === 0) {
                return;
            }

            const observer = new IntersectionObserver((entries) => {
                entries.forEach((entry) => {
                    if (entry.isIntersecting) {
                        setActiveTocLink(entry.target.id, linkRegistry);
                    }
                });
            }, {
                rootMargin: "-60% 0px -35% 0px",
                threshold: [0, 1]
            });

            headings.forEach((heading) => observer.observe(heading));
        }

        function createSlug(text, slugCounts) {
            const base = text
                .toLowerCase()
                .replace(/[^a-z0-9]+/g, "-")
                .replace(/^-+|-+$/g, "") || "section";

            slugCounts[base] = (slugCounts[base] || 0) + 1;
            const count = slugCounts[base];
            return count === 1 ? base : `${base}-${count}`;
        }

        function setActiveTocLink(id, registry) {
            registry.forEach((link) => link.classList.remove("active", "active-parent"));

            const activeLink = registry.get(id);
            if (!activeLink) {
                return;
            }

            activeLink.classList.add("active");

            const parentSublist = activeLink.closest(".toc-sublist");
            if (parentSublist) {
                const parentLink = parentSublist.previousElementSibling;
                if (parentLink) {
                    parentLink.classList.add("active-parent");
                }
            }
        }

        function initializeQuiz(katexConfig) {
            const quizForm = document.getElementById("control-test");
            const finishButton = document.getElementById("finish-quiz");
            const resetButton = document.getElementById("reset-quiz");
            const resultContainer = document.getElementById("quiz-result");

            if (!quizForm || !finishButton || !resetButton || !resultContainer) {
                return;
            }

            const answerKey = {
                q1: {
                    correct: "c",
                    explanation: "A number divisible by 6 must be divisible by both 2 and 3; only 1002 satisfies both conditions.",
                    scored: true
                },
                q2: {
                    correct: "a",
                    explanation: "Compute each term: 400 / (25 - 75) = -8 and 200 / (13 - 33) = -10, so -8 - (-10) = 2.",
                    scored: true
                },
                q3: {
                    correct: null,
                    explanation: "The source excerpt omits essential data, so this question is preserved for reference but not scored.",
                    scored: false
                },
                q4: {
                    correct: null,
                    explanation: "The ordering criterion is missing in the partial scan. Consult the full text to determine the intended comparison.",
                    scored: false
                },
                q5: {
                    correct: null,
                    explanation: "The original interval descriptions are missing; this item remains ungraded.",
                    scored: false
                },
                q6: {
                    correct: null,
                    explanation: "Context for the enrolment problem is incomplete in the excerpt, so the question is not graded here.",
                    scored: false
                },
                q7: {
                    correct: "b",
                    explanation: "A multiple of 15 must be divisible by 3 and 5. 4005 ends with 5 and its digit sum 4+0+0+5 = 9 is divisible by 3.",
                    scored: true
                },
                q8: {
                    correct: null,
                    explanation: "The listed options do not bracket 101; consult the full manuscript for the intended values.",
                    scored: false
                },
                q9: {
                    correct: null,
                    explanation: "Factorisation choices are truncated in the source, so this question cannot be auto-graded.",
                    scored: false
                },
                q10: {
                    correct: "a",
                    explanation: "Every positive integer is divisible by 1, making 1 the least positive divisor of 36.",
                    scored: true
                },
                q11: {
                    correct: null,
                    explanation: "Answer choices reference algebraic forms without the missing prompt. Review the source for full context.",
                    scored: false
                },
                q12: {
                    correct: null,
                    explanation: "Key details about k and N are missing, so the number of zeros cannot be deduced here.",
                    scored: false
                },
                q13: {
                    correct: "c",
                    explanation: "The units digit of powers of 3 cycles every four steps (3, 9, 7, 1). 123^5 shares the units digit with 3^5, which is 3.",
                    scored: true
                },
                q14: {
                    correct: null,
                    explanation: "Digits involved in the divisibility-by-7 check are omitted in the excerpt. The item remains ungraded.",
                    scored: false
                }
            };

            finishButton.addEventListener("click", () => {
                evaluateQuiz(quizForm, answerKey, resultContainer);
                renderMathInElement(quizForm, katexConfig);
            });

            resetButton.addEventListener("click", () => {
                resetQuiz(quizForm, resultContainer);
                renderMathInElement(quizForm, katexConfig);
            });
        }

        function evaluateQuiz(form, answerKey, resultContainer) {
            const questions = Array.from(form.querySelectorAll(".quiz-question"));
            let score = 0;
            let total = 0;
            let unscored = 0;

            questions.forEach((questionEl) => {
                const questionId = questionEl.dataset.questionId;
                const key = answerKey[questionId];
                if (!key) {
                    return;
                }

                const feedback = questionEl.querySelector(".quiz-feedback");
                const choices = Array.from(questionEl.querySelectorAll(".quiz-choice"));
                choices.forEach((choice) => choice.classList.remove("correct", "incorrect"));

                const selected = questionEl.querySelector("input:checked");

                if (key.scored) {
                    total += 1;
                } else {
                    unscored += 1;
                }

                if (key.correct) {
                    choices.forEach((choice) => {
                        const input = choice.querySelector("input");
                        if (input?.value === key.correct) {
                            choice.classList.add("correct");
                        }
                    });
                }

                if (selected && key.correct && selected.value !== key.correct) {
                    selected.closest(".quiz-choice")?.classList.add("incorrect");
                }

                if (selected && key.correct && selected.value === key.correct && key.scored) {
                    score += 1;
                }

                if (feedback) {
                    feedback.textContent = key.explanation || "Review the source material for this question.";
                    feedback.classList.remove("hidden");
                }
            });

            if (resultContainer) {
                const summary = [];
                if (total > 0) {
                    summary.push(`You answered ${score} out of ${total} scored question${total === 1 ? "" : "s"} correctly.`);
                }
                if (unscored > 0) {
                    summary.push(`${unscored} additional question${unscored === 1 ? "" : "s"} remain for manual review because the scan is incomplete.`);
                }
                resultContainer.textContent = summary.join(" ");
                resultContainer.classList.remove("hidden");
            }
        }

        function resetQuiz(form, resultContainer) {
            form.reset();
            form.querySelectorAll(".quiz-choice").forEach((choice) => choice.classList.remove("correct", "incorrect"));
            form.querySelectorAll(".quiz-feedback").forEach((feedback) => {
                feedback.textContent = "";
                feedback.classList.add("hidden");
            });
            if (resultContainer) {
                resultContainer.textContent = "";
                resultContainer.classList.add("hidden");
            }
        }
    </script>
</body>
</html>
