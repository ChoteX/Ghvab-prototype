const fs = require("fs");
const path = require("path");

function text(value) {
    return { type: "text", text: value };
}

function element(tag, { classes = [], attributes = {}, children = [] } = {}) {
    const node = { type: "element", tag };
    if (classes.length > 0) {
        node.classes = classes;
    }
    if (Object.keys(attributes).length > 0) {
        node.attributes = attributes;
    }
    if (children.length > 0) {
        node.children = children;
    }
    return node;
}

function paragraph(content, classes = ["mb-4"]) {
    const children = Array.isArray(content) ? content : [text(content)];
    return element("p", { classes, children });
}

function mathBlock(value, classes = ["mb-4"], centered = true) {
    const mathClasses = centered ? ["text-center", ...classes] : classes;
    return element("div", {
        classes: mathClasses,
        children: [text(value)]
    });
}

function unorderedList(items, classes = ["list-disc", "list-inside", "space-y-1", "ml-6", "mb-4"]) {
    return element("ul", {
        classes,
        children: items.map((item) => element("li", { children: Array.isArray(item) ? item : [text(item)] }))
    });
}

function table(rows, { tableStyle = "width: 100%; border-collapse: collapse; font-size: 0.95em;", columnStyles = [] } = {}) {
    return element("div", {
        classes: ["overflow-x-auto", "mb-4"],
        children: [
            element("table", {
                attributes: { style: tableStyle },
                children: [
                    element("tbody", {
                        children: rows.map((row) =>
                            element("tr", {
                                children: row.map((cell, index) =>
                                    element("td", {
                                        attributes: {
                                            style:
                                                columnStyles[index] ||
                                                "border: 1px solid #d4d4d8; padding: 4px 6px; text-align: center;"
                                        },
                                        children: [text(cell)]
                                    })
                                )
                            })
                        )
                    })
                ]
            })
        ]
    });
}

function section(title, children, options = {}) {
    const { classes = ["mb-10"] } = options;
    return element("section", {
        classes,
        children: [
            element("h2", {
                classes: ["text-xl", "font-bold", "mb-4"],
                children: [text(title)]
            }),
            ...children
        ]
    });
}

function subsection(title) {
    return element("h3", {
        classes: ["text-lg", "font-semibold", "mb-3"],
        children: [text(title)]
    });
}

function strong(value) {
    return element("strong", { children: [text(value)] });
}

function lineBreak() {
    return element("br");
}

function parseInline(line) {
    if (!line) {
        return [];
    }
    const nodes = [];
    const regex = /<em>(.*?)<\/em>/g;
    let lastIndex = 0;
    let match;
    while ((match = regex.exec(line)) !== null) {
        if (match.index > lastIndex) {
            nodes.push(text(line.slice(lastIndex, match.index)));
        }
        nodes.push(element("em", { children: [text(match[1])] }));
        lastIndex = regex.lastIndex;
    }
    if (lastIndex < line.length) {
        nodes.push(text(line.slice(lastIndex)));
    }
    return nodes;
}

function buildExerciseList(items) {
    return element("div", {
        classes: ["space-y-4", "exercise-list"],
        children: items.map((item) => {
            const children = [
                element("span", { classes: ["font-bold"], children: [text(item.number)] })
            ];
            if (item.lines.length > 0) {
                children.push(text(" "));
                parseInline(item.lines[0]).forEach((node) => children.push(node));
            }
            item.lines.slice(1).forEach((line) => {
                children.push(lineBreak());
                children.push(element("span", { classes: ["ml-6"], children: parseInline(line) }));
            });
            return element("div", { classes: ["exercise-item"], children });
        })
    });
}

function parseOptions(line) {
    if (!line) {
        return [];
    }
    const regex = /\((a|b|c|d)\)\s*([^()]+?)(?=(\s*\([a-d]\)|$))/g;
    const results = [];
    let match;
    while ((match = regex.exec(line)) !== null) {
        results.push({ value: match[1], label: match[2].trim() });
    }
    return results;
}

function buildQuizForm(items) {
    const questionNodes = items.map((item, index) => {
        const questionId = `q${index + 1}`;
        const [promptLine, optionsLine] = item.lines;
        const promptChildren = [
            element("strong", { children: [text(item.number)] }),
            text(" "),
            ...parseInline(promptLine)
        ];
        const options = parseOptions(optionsLine);
        const optionNodes = options.map((option) =>
            element("label", {
                classes: ["quiz-choice"],
                children: [
                    element("input", {
                        attributes: {
                            name: questionId,
                            type: "radio",
                            value: option.value
                        }
                    }),
                    element("span", {
                        children: [
                            text(`(${option.value}) `),
                            ...parseInline(option.label)
                        ]
                    })
                ]
            })
        );

        return element("div", {
            classes: ["quiz-question"],
            attributes: { "data-question-id": questionId },
            children: [
                element("p", { children: promptChildren }),
                element("div", { classes: ["quiz-choices"], children: optionNodes }),
                element("div", { classes: ["quiz-feedback", "hidden"] })
            ]
        });
    });

    return element("form", {
        classes: ["space-y-4"],
        attributes: { id: "control-test", novalidate: "" },
        children: [
            ...questionNodes,
            element("div", {
                classes: ["quiz-actions"],
                children: [
                    element("button", {
                        classes: ["btn", "btn-primary"],
                        attributes: { id: "finish-quiz", type: "button" },
                        children: [text("შედეგის ნახვა")]
                    }),
                    element("button", {
                        classes: ["btn", "btn-secondary"],
                        attributes: { id: "reset-quiz", type: "button" },
                        children: [text("თავიდან დაწყება")]
                    })
                ]
            }),
            element("div", {
                classes: ["quiz-result", "hidden"],
                attributes: {
                    id: "quiz-result",
                    role: "status",
                    "aria-live": "polite"
                }
            })
        ]
    });
}

const exerciseItemsData = [
  {
    number: '1.1.',
    lines: [
      String.raw`რომელი შემდეგი რიცხვებიდან არის მარტივი?`,
      String.raw`(1) 55 (2) 617 (3) 5027 (4) 42028`,
    ]
  },
  {
    number: '1.2.',
    lines: [
      String.raw`რომელი შემდეგი რიცხვებიდან არის შედგენილი?`,
      String.raw`(1) 389 (2) 1507 (3) 323061 (4) 52713`,
    ]
  },
  {
    number: '1.3.',
    lines: [
      String.raw`განსაზღვრეთ შემდეგი რიცხვების ლუწობა (ლუწი/კენტი):`,
      String.raw`(1) 531 (2) 2399 (3) 4057 (4) 20712`,
    ]
  },
  {
    number: '1.4.',
    lines: [
      String.raw`აირჩიეთ სწორი დებულებები მთელ რიცხვებზე:`,
      String.raw`(1) და (2) <em>[დებულების ვარიანტები წყაროში]</em>`,
      String.raw`(3) <em>შესაძლებელია ჩამოვაყალიბოთ …</em> (4) <em>ნული არც დადებითია და არც უარყოფითი.</em>`,
    ]
  },
  {
    number: '1.5.',
    lines: [
      String.raw`განსაზღვრეთ თითოეული შედეგის ნიშანი (დადებითი/უარყოფითი/ნული) ზუსტი მნიშვნელობის გამოთვლის <em>გარეშე</em>.`,
      String.raw`(კონტექსტი: ჯამები/ნამრავლები მითითებული ნიშნებით.)`,
    ]
  },
  {
    number: '1.6.',
    lines: [
      String.raw`რომელი შემდეგთაგანია მთელი რიცხვები?`,
      String.raw`(1) $a+b$ (2) $a-b$ (3) $c+d$ (4) $\tfrac{c}{d}$ (5) $cd$ (6) $a+c$ (7) $a-c$ (8) $ac$ (9) $2c+a$ (10) $2c-3a$ (11) $a^2-c^2$ (12) $3a^2+2c^2$`,
    ]
  },
  {
    number: '1.7.',
    lines: [
      String.raw`გამოთვალეთ (ოპერაციების თანმიმდევრობა და ფრჩხილები):`,
      String.raw`(1) $24$ (2) $77$ (3) $128$ (4) $4128$ <em>[მოკლე პრაქტიკის ამოცანები]</em>`,
    ]
  },
  {
    number: '1.8.',
    lines: [
      String.raw`იპოვეთ შემდეგი წყვილების (ან სიმრავლეების) უმცირესი საერთო ჯერადი (უსჯ).`,
      String.raw`(1) 28 (2) 99 (3) 200 (4) 532`,
    ]
  },
  {
    number: '1.9.',
    lines: [
      String.raw`იპოვეთ შემდეგი მთელი რიცხვების უდიდესი საერთო გამყოფი (უსგ).`,
      String.raw`(1) 12 (2) 13 (3) 50 (4) 120`,
    ]
  },
  {
    number: '1.10.',
    lines: [
      String.raw`რამდენი ნატურალური გამყოფი აქვს $66$-ს?`,
    ]
  },
  {
    number: '1.11.',
    lines: [
      String.raw`იპოვეთ მოცემული რიცხვების საერთო გამყოფების რაოდენობა.`,
      String.raw`(1) 15 (2) 19 (3) 27 (4) 48`,
    ]
  },
  {
    number: '1.12.',
    lines: [
      String.raw`გამოთვალეთ თითოეული წყვილის უსჯ:`,
      String.raw`(1) $12$ და $42$ (2) $240$ და $360$ (3) $1680$ და $4200$ (4) $180,\ 270,\ 450$`,
    ]
  },
  {
    number: '1.13.',
    lines: [
      String.raw`გამოთვალეთ თითოეული ჯგუფის უსგ:`,
      String.raw`(1) $12$ და $15$ (2) $24,\ 30,\ 60$ (3) $7,\ 8,\ 13$ (4) $20,\ 65,\ 125$`,
    ]
  },
  {
    number: '1.14.',
    lines: [
      String.raw`გაამარტივეთ შემდეგი გამოსახულებები:`,
      String.raw`(1) $2^5\cdot 3^7\cdot 5^{-3}$ და $2^1\cdot 3^3\cdot 5^2$`,
      String.raw`(2) $2^{-7}\cdot 3^2$ და $2^2\cdot 7^3$ <em>[სტანდარტიზებული ხარისხები წყაროს მიხედვით]</em>`,
    ]
  },
  {
    number: '1.15.',
    lines: [
      String.raw`სიტყვიერი ამოცანები გაყოფადობაზე (პარაფრაზირებული სკანირებიდან):`,
      String.raw`(1) თუ რიცხვი ტოვებს ნაშთს $n$ გაყოფისას $m$-ზე, რა არის … ნაშთი?`,
      String.raw`(2) თუ მთელი რიცხვი იზრდება $+2$-ით, როგორ იცვლება ლუწობა?`,
      String.raw`(3) <em>[გაყოფადობა ჯამებით]</em> (4) თუ მთელი რიცხვი იზრდება $+1$-ით, როგორ …?`,
    ]
  },
  {
    number: '1.16.',
    lines: [
      String.raw`ააგეთ უმცირესი (ან უდიდესი) $n$-ნიშნა რიცხვი, რომელიც აკმაყოფილებს მოცემულ ციფრულ შეზღუდვებს. <em>[როგორც წყაროში]</em>`,
    ]
  },
  {
    number: '1.17.',
    lines: [
      String.raw`რამდენი მთელი რიცხვი აკმაყოფილებს მოცემულ უტოლობას/ინტერვალს? <em>[მთელი ამონახსნების რაოდენობა]</em>`,
    ]
  },
  {
    number: '1.18.',
    lines: [
      String.raw`კლასის ამოცანა დაჯდომა/განლაგების შესახებ ჯამებით 30, 40 და 47. განსაზღვრეთ რამდენი … <em>[სრულ კონტექსტში]</em>`,
    ]
  },
  {
    number: '1.19.',
    lines: [
      String.raw`მიაწყვეთ ორი სია ლუწი და კენტი რიცხვებით, დაათვლეთ. <em>[როგორც წყაროში]</em>`,
    ]
  },
  {
    number: '1.20.',
    lines: [
      String.raw`რომელი რიცხვებია 5-ის ჯერადი და მოახდინეთ დასაბუთება.`,
    ]
  },
  {
    number: '1.21.',
    lines: [
      String.raw`დაადგინეთ ხაზგასმული ციფრის რანგი თითოეულ ჩანაწერში:`,
      String.raw`(1) $\underline{5}4312$ (2) $4532\underline{\phantom{0}}$ (3) $32*25$ (4) $*3260$ (5) $423*0$ (6) $*2310$ <em>[სიმბოლო * ნიშნავს ციფრთა მიმდევრობას]</em>`,
    ]
  },
  {
    number: '1.22.',
    lines: [
      String.raw`ჩაწერეთ შემდეგი დიდი რიცხვები ათასეულების გამოყოფით და სიტყვიერად:`,
      String.raw`(1) 1275 (2) 33333 (3) 10203040 (4) 1919191919`,
    ]
  },
  {
    number: '1.23.',
    lines: [
      String.raw`ორი სიტყვიერი ამოცანა „5 დღით“ და „7 დღით“ — გამოიყენეთ უსჯ/უსგ. <em>[როგორც წყაროში]</em>`,
    ]
  },
  {
    number: '1.24.',
    lines: [
      String.raw`თუ $a$ და $b$ მთელი რიცხვებია და $a-b$ იყოფა 5-ზე, რომელ გამოსახულებებს ექნებათ 5-ის ჯერადობა? <em>[წყაროს მიხედვით]</em>`,
    ]
  },
  {
    number: '1.25.',
    lines: [
      String.raw`თუ მთელი რიცხვი 17-ზე იყოფა და დაკავშირებული გამოსახულება 8-ს უდრის, რა შეგვიძლია ვთქვათ $a+b$-ზე 17-ის მოდულით? <em>[წყაროს მიხედვით]</em>`,
    ]
  },
  {
    number: '1.26.',
    lines: [
      String.raw`მოკლე პასუხები:`,
      String.raw`(1) <em>აირჩიეთ სწორი ვარიანტი ნიშნისა და ზომის მიხედვით.</em>`,
      String.raw`(2) დაახლოეთ რიცხვი ჯერ უახლოეს 10-მდე, შემდეგ უახლოეს 100-მდე. <em>[როგორც წყაროში]</em>`,
    ]
  },
  {
    number: '1.27.',
    lines: [
      String.raw`მოათავსეთ მოცემული ინტერვალები რიცხვთა წრფეზე:`,
      String.raw`(1) −2-დან 0-მდე (2) −2-დან 3-მდე (3) −5-დან 1-მდე (4) −1-დან 9-მდე`,
    ]
  },
  {
    number: '1.28.',
    lines: [
      String.raw`გამოთვალეთ:`,
      String.raw`(1) −2+5−6 (2) −11−(−3) (3) 14−(−4) (4) −17+(+2) (5) (−2−3)+2+5 (6) (−2+6)+(−6) (7) (−2−5)−(+3−7) (8) (−10+3−4)(4−6)`,
    ]
  },
  {
    number: '1.29.',
    lines: [
      String.raw`გამოთვალეთ:`,
      String.raw`(1) $3(9-11)-4(8-9)$ (2) $-5(-7-5)+3(6-9)$ (3) $\dfrac{5\,(9-13)\,(-4)}{-8\,(9-14)}$ (4) $\dfrac{-7\,(20-11)\cdot 2}{3\,(2-16)}$`,
    ]
  },
  {
    number: '1.30.',
    lines: [
      String.raw`გამოთვალეთ:`,
      String.raw`(1) $36:3-9$ (2) $36:(3-9)$ (3) $30-15:3$ (4) $(30-15):3$ (5) $240-25:(13-8)$ (6) $120:(10-16)-20$ (7) $50-(-20):5$ (8) $(50-(-20)):5$`,
    ]
  },
  {
    number: '1.31.',
    lines: [
      String.raw`სიტყვიერი ამოცანები:`,
      String.raw`(1) მუშაკი ერთ საქმეს 6 დღეში ასრულებს და მეორე დავალებაზე 70 გვერდს ამუშავებს; თუ 50 გვერდი უკვე შესრულებულია, რამდენი დღეა საჭირო დარჩენილი ნაწილისთვის?`,
      String.raw`(2) რიცხვი $152\;2\underline{\phantom{0}}3$ იყოფა 16-ზე; იპოვეთ დაკარგული ციფრი. <em>[როგორც წყაროში]</em>`,
    ]
  },
  {
    number: '1.32.',
    lines: [
      String.raw`კლასში A არის 10-ით მეტი მოსწავლე, ვიდრე კლასში B. თუ … როდესაც კლასები გაერთიანდება … იპოვეთ A-ის და B-ის ზომები. <em>[როგორც წყაროში]</em>`,
    ]
  },
  {
    number: '1.33.',
    lines: [
      String.raw`მართკუთხედი პერიმეტრის ინფორმაციით; იპოვეთ გვერდების სიგრძეები მოცემული კავშირებით და იმით, რომ პერიმეტრი არის 28. <em>[როგორც წყაროში]</em>`,
    ]
  },
  {
    number: '1.34.',
    lines: [
      String.raw`მატარებელი გადის 59 კმ პირველ საათში და … განსაზღვრეთ საერთო მანძილი 10 საათის შემდეგ. <em>[როგორც წყაროში]</em>`,
    ]
  },
  {
    number: '1.35.',
    lines: [
      String.raw`დავუშვათ $x,y,z$ არის მთელი რიცხვები. თუ $xy-3z$ იყოფა … განსაზღვრეთ არის თუ არა …`,
    ]
  },
  {
    number: '1.36.',
    lines: [
      String.raw`აირჩიეთ სწორი სამეცნიერო ნოტაცია (ან სიდიდე) თითოეული რიცხვისთვის:`,
      String.raw`(1) $10$ (2) $10 000$ (3) $41$`,
    ]
  },
  {
    number: '1.37.',
    lines: [
      String.raw`გამოთვალეთ კვადრატები (შაბლონის ამოცნობა):`,
      String.raw`(1) $(11)^2$ (2) $(111)^2$ (3) $(1000)^2$ (4) $(10000)^2$`,
    ]
  },
];

const quizQuestionsData = [
  {
    number: '1.',
    lines: [
      String.raw`რომელი შემდეგი რიცხვებიდან იყოფა $6$-ზე?`,
      String.raw`(a) 273 (b) 412 (c) 1002 (d) 3004`,
    ]
  },
  {
    number: '2.',
    lines: [
      String.raw`გამოთვალეთ: $400:(25-75)-200:(13-33)$`,
      String.raw`(a) $2$ (b) $18$ (c) $-18$ (d) $-2$`,
    ]
  },
  {
    number: '3.',
    lines: [
      String.raw`რომელ წელს 2011-სა და … შორის ხდება … რაოდენობა გაყოფადი $5$-ზე?`,
      String.raw`(a) 2 (b) 5 (c) 3`,
    ]
  },
  {
    number: '4.',
    lines: [
      String.raw`დავუშვათ $a,b,c,d$ განისაზღვრება $a=3\cdot(5-7)$, $b=3-5-7$, $c=ab$, $d=a+b$. აირჩიეთ სწორი თანმიმდევრობა:`,
      String.raw`(a) $a,c,b,d$ (b) $c,a,d,b$ (c) $c,d,b,a$ (d) $c,d,a,b$`,
    ]
  },
  {
    number: '5.',
    lines: [
      String.raw`რიცხვი $123$ იზრდება 8-ით და შემდეგ მცირდება 3-ით. რომელ ინტერვალში მოექცევა შედეგი?`,
      String.raw`(a) 10 (b) 15 (c) 20 (d) 12`,
    ]
  },
  {
    number: '6.',
    lines: [
      String.raw`სკოლაში არის 155 პირველკლასელი და 62 … რომელია უახლოესი მარტივი რიცხვი?`,
      String.raw`(a) 20 (b) 25 (c) 27 (d) 31`,
    ]
  },
  {
    number: '7.',
    lines: [
      String.raw`რომელი რიცხვია $15$-ის ჯერადი?`,
      String.raw`(a) 5005 (b) 4005 (c) 1015 (d) 2015`,
    ]
  },
  {
    number: '8.',
    lines: [
      String.raw`იპოვეთ $101$-ის უახლოესი მარტივი რიცხვი მარჯვნიდან და მარცხნიდან.`,
      String.raw`(a) 909 (b) 816 (c) 807 (d) 809`,
    ]
  },
  {
    number: '9.',
    lines: [
      String.raw`აირჩიეთ სწორი ფაქტორიზაცია:`,
      String.raw`(a) $5$-რაღაც (b) <em>[ვარიანტები წყაროს მიხედვით: ორწევრიანი vs სამწევრიანი ფაქტორიზაცია]</em>`,
    ]
  },
  {
    number: '10.',
    lines: [
      String.raw`რა არის $36$-ის უმცირესი გამყოფი?`,
      String.raw`(a) 1 (b) 2 (c) 3 (d) 4`,
    ]
  },
  {
    number: '11.',
    lines: [
      String.raw`წრფივი გამოსახულება ფორმით $2n+3$. რომელი შემდეგთაგანია შესაძლო მნიშვნელობები?`,
      String.raw`(a) $6n+1$ (b) $6n+3$ (c) $3n+3$ (d) $6n-1$`,
    ]
  },
  {
    number: '12.',
    lines: [
      String.raw`რამდენი ნული არის $N$-ის ბოლოში, თუ $N$ იყოფა $2^k$-ზე? <em>[როგორც წყაროში]</em>`,
      String.raw`(a) $200$ (b) $2000$ (c) $20000$ (d) $10000$`,
    ]
  },
  {
    number: '13.',
    lines: [
      String.raw`იპოვეთ $123^5$-ის ერთეულების ციფრი. <em>[ერთეულების ციფრის ციკლურობა]</em>`,
      String.raw`(a) 9 (b) 8 (c) 3 (d) 7`,
    ]
  },
  {
    number: '14.',
    lines: [
      String.raw`განსაზღვრეთ დაკარგული რიცხვი იმის გათვალისწინებით, რომ … (გაყოფადობა 7-ზე). <em>[როგორც წყაროში]</em>`,
      String.raw`(a) 10 (b) 3 (c) 5 (d) 4`,
    ]
  },
];

const quizAnswerKey = {
    q1: { correct: "c", explanation: "რიცხვი რომ იყოს 6-ის ჯერადი, უნდა იყოფოდეს 2-ზეც და 3-ზეც; მხოლოდ 1002 აკმაყოფილებს ორივე პირობას.", scored: true },
    q2: { correct: "a", explanation: "400/(25-75) = -8 და 200/(13-33) = -10, შესაბამისად -8 - (-10) = 2.", scored: true },
    q3: { correct: null, explanation: "ამოცანის პირობის ნაწილები აკლია სკანში, ამიტომ პასუხი არ ფასდება.", scored: false },
    q4: { correct: null, explanation: "შედარების კრიტერიუმი ფრაგმენტში არ ჩანს, სრული ტექსტი საჭიროა.", scored: false },
    q5: { correct: null, explanation: "მონაკვეთების აღწერა არასრულია, ამოცანა არ იფასება.", scored: false },
    q6: { correct: null, explanation: "კლასების შესახებ მონაცემები დაზიანებულია, შედეგის დადგენა შეუძლებელია.", scored: false },
    q7: { correct: "b", explanation: "15-ის ჯერადი უნდა იყოფოდეს 3-ზეც და 5-ზეც. 4005 მთავრდება ციფრით 5 და ციფრთა ჯამი 9-ს ტოლია, რომელიც იყოფა 3-ზე.", scored: true },
    q8: { correct: null, explanation: "მოცემული დიაპაზონები 101-ს სწორად არ აკრავს, მიმართეთ სრულ გამოცემას.", scored: false },
    q9: { correct: null, explanation: "ფაქტორიზაციის ვარიანტები დაზიანებულია, ავტომატური შეფასება ვერ ხერხდება.", scored: false },
    q10: { correct: "a", explanation: "ყველა დადებითი რიცხვი იყოფა 1-ზე, ამიტომ 1 არის 36-ის უმცირესი დადებითი გამყოფი.", scored: true },
    q11: { correct: null, explanation: "ალგებრული ფორმულირება ფრაგმენტულადაა მოტანილი, გამოყენეთ სრული ტექსტი.", scored: false },
    q12: { correct: null, explanation: "k და N-ის შესახებ მონაცემები დაზუსტებას საჭიროებს, პასუხი არ იფასება.", scored: false },
    q13: { correct: "c", explanation: "3-ის ხარისხების ერთეულების ციფრი ყოველ ოთხ ნაბიჯში მეორდება (3, 9, 7, 1). \\(123^5\\)-ს აქვს იგივე ერთეული, რაც \\(3^5\\)-ს — 3.", scored: true },
    q14: { correct: null, explanation: "7-ზე გაყოფადობის წესისთვის აუცილებელი ციფრები დაუსრულებელია, შეფასება შეუძლებელია.", scored: false }
};

const meta = {
    pageTitle: "ნაწილი I – ნატურალური და მთელი რიცხვები",
    documentLang: "ka",
    headerTitle: "თღვაბერიძე ალგებრა",
    toggleLabelInactive: "Display English Version",
    toggleLabelActive: "ქართული ვერსია",
    sidebarTitle: "შინაარსი",
    sidebarAriaLabel: "ბლოკების ნავიგაცია"
};

const mainContent = [];

mainContent.push(
    element("div", {
        classes: ["text-center", "mb-8"],
        children: [
            element("h1", {
                classes: ["text-2xl", "font-bold", "mb-2"],
                children: [text("ნაწილი I")]
            }),
            element("h2", {
                classes: ["text-xl", "font-bold"],
                children: [text("ნატურალური და მთელი რიცხვები")]
            })
        ]
    })
);

mainContent.push(
    section("ნატურალური და მთელი რიცხვები", [
        subsection("ნატურალური და მთელი რიცხვები. არითმეტიკული მოქმედებები."),
        paragraph("ნატურალური რიცხვები, ჩვეულებრივ, საგანთა დასათვლელად გამოიყენება. უმცირესი ნატურალური რიცხვია 1. პირდადობის მიხედვით, ნატურალური რიცხვების ჩაწერა შეგვიძლია რიცხვთა მიმდევრობის სახით."),
        mathBlock("\\(1, 2, 3, 4, \\ldots\\)"),
        paragraph("ეს მიმდევრობა უსასრულოა, რადგან უდიდესი ნატურალური რიცხვი არ არსებობს."),
        paragraph("ნატურალური რიცხვები, მათი მოპირდაპირე რიცხვები (ე.ი. \\(-1, -2, \\ldots\\)) და ნული ერთობლიობაში წარმოადგენენ მთელ რიცხვებს."),
        mathBlock("\\(\\ldots, -3, -2, -1, 0, 1, 2, 3, \\ldots\\)"),
        paragraph("ეს მიმდევრობა უსასრულოდ გრძელდება ორივე მხარეს, რადგან არ არსებობს უდიდესი და უმცირესი მთელი რიცხვი."),
        paragraph([
            strong("შეკრება."),
            text(" ორი ან რამდენიმე რიცხვის შეკრების შედეგს ეწოდება მათი ჯამი, ხოლო თვით ამ რიცხვებს — შესაკრებები. მაგალითად, თუ \\(a + b + \\cdots + k = p\\), მაშინ \\(p\\) არის ჯამი, ხოლო \\(a, b, \\ldots, k\\) — შესაკრებები.")
        ]),
        paragraph("ნებისმიერად აღებული \\(a, b, c\\) მთელი რიცხვებისათვის სრულდება ტოლობები:"),
        mathBlock("$$\\begin{align} a + b &= b + a, \\quad \\text{(გადანაცვლებადობის თვისება)},\\\\ (a + b) + c &= a + (b + c), \\quad \\text{(ჯუფდებადობის თვისება)}. \\end{align}$$"),
        paragraph("ეს თვისებები ხშირად მოსახერხებელია პრაქტიკული გამოთვლებისას."),
        paragraph([
            strong("მაგალითი."),
            text(" შევასრულოთ მოქმედება: \\(1925 + 317 + 3075\\).")
        ]),
        mathBlock("$$\\begin{align} (1925 + 317) + 3075 &= (317 + 1925) + 3075 = 317 + (1925 + 3075) \\\\ &= 317 + 5000 = 5317. \\end{align}$$"),
        paragraph([
            strong("გამოკლება."),
            text(" \\(a\\) რიცხვს გამოვაკლოთ \\(b\\) რიცხვი ნიშნავს მოვძებნოთ ისეთი \\(x\\) რიცხვი, რომ \\(b + x = a\\). ამ შემთხვევაში \\(x\\)-ს ეწოდება \\(a\\) და \\(b\\) რიცხვების სხვაობა და აღინიშნება \\(a - b\\); \\(a\\) ეწოდება საკლები, ხოლო \\(b\\) — მაკლები.")
        ]),
        paragraph("მთელი რიცხვების სხვაობა ყოველთვის მთელი რიცხვია. ნატურალური რიცხვების სხვაობა შესაძლოა არ იყოს ნატურალური რიცხვი. მაგალითად, \\(17 - 10\\) ნატურალური რიცხვია, მაგრამ \\(17 - 17\\) ისევე როგორც \\(17 - 20\\), არ არის ნატურალური."),
        paragraph([
            strong("გამრავლება."),
            text(" ორი ან რამდენიმე რიცხვის ერთმანეთზე გამრავლების შედეგს ეწოდება მათი ნამრავლი, ხოლო თვით ამ რიცხვებს — მამრავლები (ან თანამამრავლები). ნებისმიერად აღებული \\(a, b, c\\) მთელი რიცხვებისათვის შესრულებულია შემდეგი თვისებები.")
        ]),
        unorderedList([
            "გადანაცვლებადობის თვისება: \\(ab = ba\\);",
            "ჯუფდებადობის თვისება: \\((ab)c = a(bc)\\);",
            "განრიგებადობის თვისება: \\((a + b)c = ac + bc\\)."
        ]),
        paragraph("განრიგებადობის თვისებიდან მივიღებთ ტოლობას \\((a - b)c = ac - bc\\)."),
        mathBlock("$$ (a - b)c = ac - bc. $$"),
        paragraph("ამ თვისებებსაც პრაქტიკული მნიშვნელობა აქვს."),
        paragraph([
            strong("მაგალითი."),
            text(" ვიპოვოთ \\(1756 \\cdot 2179 - 1756 \\cdot 2178\\) გამრავლების გარეშე.")
        ]),
        mathBlock("$$1756 \\cdot 2179 - 1756 \\cdot 2178 = 1756 (2179 - 2178) = 1756 \\cdot 1 = 1756.$$"),
        paragraph([
            strong("გაყოფა."),
            text(" \\(a\\) რიცხვის გაყოფა არანულოვან \\(b\\) რიცხვზე ნიშნავს ისეთი \\(x\\) რიცხვის მოძებნას, რომ \\(b \\cdot x = a\\). ამ დროს ვამბობთ, რომ \\(a\\) იყოფა \\(b\\)-ზე; \\(a\\)-ს ეწოდება გასაყოფი ან \\(b\\)-ს ჯერადი, \\(b\\)-ს — გამყოფი, ხოლო \\(x\\)-ს \\(a\\)-სა და \\(b\\)-ს განაყოფი ანუ ფარდობა და იგი აღინიშნება \\(a : b\\) ან \\(\\frac{a}{b}\\).")
        ]),
        paragraph("ორი მთელი რიცხვის განაყოფი ყოველთვის არ არის მთელი რიცხვი. მაგალითად, \\(17 : 5\\) ან \\((-17) : 3\\)."),
        paragraph([
            strong("ნატურალური ხარისხი."),
            text(" განვსაზღვროთ \\(a^n\\), ანუ \\(a\\) რიცხვის \\(n\\)-ური ნატურალური ხარისხი. განმარტების თანახმად:")
        ]),
        mathBlock("$$a^n = \\underbrace{a \\cdot a \\cdot a \\cdots a}_{n \\text{ ჯერ}}.$$"),
        paragraph("\\(a^n\\) არის \\(n\\) ცალი თანამამრავლის ნამრავლი, რომელთაგან თითოეული \\(a\\)-ს ტოლია. \\(a\\)-ს ეწოდება ხარისხის ფუძე, \\(n\\)-ს კი ხარისხის მაჩვენებელი. განმარტებიდან გამომდინარეობს, რომ \\(a^1 = a\\). თუ \\(a \\neq 0\\), მიღებულია, რომ \\(a^0 = 1\\), ხოლო \\(0^0\\) არ განისაზღვრება."),
        paragraph([
            strong("1-ისა და 0-ის თვისებები."),
            text(" თუ \\(a\\) ნებისმიერი რიცხვია, მაშინ \\(a \\cdot 0 = 0\\), ხოლო რაიმე გამოსახულების 1-ზე გამრავლება არ ცვლის მის მნიშვნელობას. თუ \\(a\\) არანულოვანი რიცხვია, მაშინ \\(a \\cdot \\frac{1}{a} = 1\\), ამიტომ 1-ის წარმოდგენა შეიძლება მრავალი სახით, მაგალითად \\(1 = \\frac{a}{a}\\) ყოველი არანულოვანი \\(a\\)-სათვის.")
        ]),
        paragraph("რიცხვი 0 არც დადებითია და არც უარყოფითი. თუ \\(a\\) ნებისმიერი რიცხვია, მაშინ \\(a + 0 = a\\) და \\(a \\cdot 0 = 0 \\cdot a = 0\\). 0-ზე გაყოფა არ არის განსაზღვრული.")
    ])
);

mainContent.push(
    section("ნატურალური რიცხვების წარმოდგენა თვლის ათობით სისტემაში", [
        paragraph("თვლის ათობით სისტემაში ნატურალური რიცხვის ჩასაწერად გამოიყენება ათი ციფრი:"),
        mathBlock("\\(0, 1, 2, 3, 4, 5, 6, 7, 8, 9\\)"),
        paragraph("ათობითი სისტემა არის პოზიციური, რაც ნიშნავს, რომ ნატურალური რიცხვის ჩანაწერში მნიშვნელობა აქვს როგორც ციფრებს, ასევე იმ პოზიციას (თანრიგს), რომელშიც დგას ციფრი. მაგალითად, 51 და 15 ერთიდაიგივე ციფრებისგან შედგება, მაგრამ განსხვავებული რიცხვებია, რადგან 51 არის 1 ერთეულის და 5 ათეულის ჯამი, ხოლო 15 — 5 ერთეულის და 1 ათეულის ჯამი. მარჯვენიდან პირველი თანრიგი ერთეულებისაა, შემდეგი — ათეულების და ა.შ."),
        paragraph("მაგალითად, 4193 ნიშნავს, რომ ეს რიცხვი არის 3 ერთეულის, 9 ათეულის, 1 ასეულის და 4 ათასეულის ჯამი:"),
        mathBlock("$$4193 = 3 + 9 \\cdot 10 + 1 \\cdot 100 + 4 \\cdot 1000 = 3 + 9 \\cdot 10^1 + 1 \\cdot 10^2 + 4 \\cdot 10^3.$$"),
        paragraph("ამავდროულად, შეგვიძლია აღვწეროთ, რომ ეს რიცხვი შედგება 4193 ერთეულისაგან, 419 ათეულისაგან (რადგან \\(4193 = 3 + 419 \\cdot 10\\)), 41 ასეულისაგან (რადგან \\(4193 = 93 + 41 \\cdot 10^2\\)) და 4 ათასეულისაგან (რადგან \\(4193 = 193 + 4 \\cdot 10^3\\))."),
        paragraph("ზოგადად, ციფრისთვის საკმარისია ერთი ასო, მაგალითად \\(a\\) ან \\(b\\). ორნიშნა ნატურალურ რიცხვს ვწერთ \\(\\overline{ab}\\) სახით, სადაც \\(a\\) და \\(b\\) ციფრებია, \\(a \\neq 0\\), და"),
        mathBlock("$$\\overline{ab} = b + 10a.$$"),
        paragraph("სამნიშნა რიცხვს ვწერთ სამი ციფრით \\(a, b, c\\), სადაც \\(a \\neq 0\\), და"),
        mathBlock("$$\\overline{abc} = c + 10b + 100a.$$"),
        paragraph("მეტი თანრიგების შემთხვევაშიც ანალოგიურად ვიქცევით. ჩანაწერში ზედა ხაზი (მაგალითად, \\(\\overline{abcd}\\)) მიუთითებს, რომ საქმე გვაქვს მთელ რიცხვთან და არა ციფრთა ნამრავლთან."),
        paragraph([
            strong("მაგალითი."),
            text(" დავამტკიცოთ, რომ ნებისმიერი ორნიშნა რიცხვისა და იმ რიცხვის ჯამი, რომელიც შედგენილია იგივე ციფრების შებრუნებული მიმდევრობით, არის 11-ის ჯერადი.")
        ]),
        paragraph([
            strong("ამოხსნა."),
            text(" ვთქვათ მოცემულია \\(\\overline{ab}\\). მაშინ")
        ]),
        mathBlock("$$\\overline{ab} + \\overline{ba} = b + 10a + a + 10b = 11(a + b),$$"),
        paragraph("ანუ \\(\\overline{ab} + \\overline{ba}\\) უნაშთოდ იყოფა 11-ზე.")
    ])
);

mainContent.push(
    section("გაყოფადობის ნიშნები", [
        paragraph("ხშირად შეგვიძლია ერთი ნატურალური რიცხვის მეორე ნატურალურ რიცხვზე გაყოფის გარეშე დავსკვნათ იყოფა თუ არა იგი. ამაში გვეხმარება გაყოფადობის ნიშნები. მოვიყვანოთ რამდენიმე მათგანი:"),
        paragraph([
            strong("1."),
            text(" თუ \\(m\\) არის რამდენიმე შესაკრების ჯამი და თითოეული შესაკრები იყოფა \\(n\\)-ზე, მაშინ \\(m\\)-იც იყოფა \\(n\\)-ზე. მაგალითად, გამოთვლების გარეშე შეგვიძლია დავადგინოთ, რომ \\(48 + 64 + 96\\) იყოფა 16-ზე, რადგან თითოეული შესაკრები იყოფა 16-ზე.")
        ]),
        paragraph("ამავე დროს, არ უნდა მივიჩნიოთ, რომ თუ რამდენიმე შესაკრები არ იყოფა კონკრეტულ რიცხვზე, ჯამიც არ გაიყოფა. მაგალითად, \\(37 + 19\\) იყოფა 4-ზე, მიუხედავად იმისა, რომ არცერთი შესაკრები არ არის 4-ის ჯერადი. ეს ნიშანი საკმარისია, მაგრამ არა აუცილებელი."),
        paragraph([
            strong("2."),
            text(" დავუშვათ, \\(m\\) არის რამდენიმეტი თანამამრავლის ნამრავლი. თუ თანმამრავლიდან ერთი მაინც იყოფა \\(n\\)-ზე, მაშინ ნამრავლიც იყოფა \\(n\\)-ზე. მაგალითად, \\(105 \\cdot 48 \\cdot 93 \\cdot 54\\) იყოფა 5-ზე, რადგან 105 არის 5-ის ჯერადი.")
        ]),
        paragraph("ეს ნიშანიც მხოლოდ საკმარისია, მაგრამ არა აუცილებელი. მაგალითად, \\(12 \\cdot 18\\) იყოფა 36-ზე, თუმცა არც 12 და არც 18 არ იყოფა 36-ზე."),
        subsection("აუცილებელი და საკმარისი პირობები"),
        paragraph("მათემატიკური მსჯელობა წარმოადგენს ერთმანეთიდან გამომდინარე გამონათქვამების ერთობლიობას. თუ გვაქვს გამონათქვამები \\(A\\) და \\(B\\) და \\(A\\)-დან გამომდინარეობს \\(B\\), ამას სიმბოლურად ასე ვწერთ: \\(A \\Rightarrow B\\). סימბოლოს \\(\\Rightarrow\\) ლოგიკური გამომდინარეობის სიმბოლოს უწოდებენ."),
        paragraph("თუ \\(A \\Rightarrow B\\), მაშინ \\(A\\)-ს ეწოდება \\(B\\)-ს საკმარისი პირობა, ხოლო \\(B\\)-ს — \\(A\\)-ს აუცილებელი პირობა."),
        paragraph("მაგალითად, პირობა „\\(a\\) რიცხვი იყოფა 6-ზე\" საკმარისი პირობაა იმისა, რომ \\(a\\) რიცხვი იყოფოდეს 3-ზე, მაგრამ არ არის აუცილებელი. პირობა „\\(a\\) რიცხვი იყოფა 3-ზე\" აუცილებელია იმისათვის, რომ \\(a\\) იყოფოდეს 6-ზე, თუმცა საკმარისი არაა."),
        paragraph("თუ \\(A \\Rightarrow B\\) და \\(B \\Rightarrow A\\), ამბობენ, რომ \\(A\\) და \\(B\\) ერთმანეთისათვის აუცილებელი და საკმარისი პირობებია. ეს ტოლფასობა აღინიშნება \\(A \\Leftrightarrow B\\)-ით და მას ლოგიკურ ტოლფასობას უწოდებენ.")
    ])
);

mainContent.push(
    section("კენტი და ლუწი რიცხვები", [
        paragraph("ყოველი მთელი რიცხვი, რომელიც იყოფა 2-ზე, არის ლუწი. ლუწი მთელი რიცხვები ასეთია:"),
        mathBlock("\\(\\ldots, -4, -2, 0, 2, 4, 6, \\ldots\\)"),
        paragraph("თუ მთელი რიცხვი არ იყოფა 2-ზე, იგი არის კენტი. კენტი რიცხვების სიმრავლეა:"),
        mathBlock("\\(\\ldots, -3, -1, 1, 3, 5, \\ldots\\)"),
        paragraph("თუ მთელ რიცხვთა ნამრავლში ერთი თანამამრავლი მაინც ლუწია, მაშინ ნამრავლიც ლუწია; წინააღმდეგ შემთხვევაში ნამრავლი კენტია. თუ ორი მთელი რიცხვიდან ორივე ლუწია ან ორივე კენტია, მათი ჯამი და სხვაობა ლუწია, ხოლო განსხვავებული parity-ის შემთხვევაში ჯამი და სხვაობა კენტია."),
        paragraph([
            strong("მაგალითი."),
            text(" პარლამენტში მოქმედებს ორი პარტია დეპუტატთა თანაბარი რაოდენობით. ერთ კენჭისყრაზე, რომელშიც ყველა დეპუტატი მონაწილეობდა, გამოცხადდა, რომ წინადადება მიღებულია 23 ხმით. ოპოზიციის ლიდერმა განაცხადა, რომ შედეგი გაყალბებულია. როგორ მიხვდა ამას?")
        ]),
        paragraph([
            strong("ამოხსნა."),
            text(" თითოეულ პარტიაში დეპუტატთა რაოდენობა ტოლია, მაშასადამე საერთო რაოდენობა ლუწია. თუ წინააღმდეგი იყო \\(n\\) დეპუტატი, მომხრეების რაოდენობაა \\(n + 23\\) და სულ მივიღებთ \\(n + n + 23 = 2n + 23\\), რაც კენტი რიცხვია — მივიღეთ წინააღმდეგობა.")
        ])
    ])
);

mainContent.push(
    section("მარტივი და შედგენილი რიცხვები", [
        paragraph("მარტივი რიცხვი არის ნატურალური რიცხვი, რომელსაც აქვს ზუსტად ორი გამყოფი: 1 და თვითონ ის. მაგალითად, 2, 3, 5, 7, 11, 13 მარტივი რიცხვებია. რიცხვი 15 აღარ არის მარტივი, რადგან მას ოთხი ნატურალური გამყოფი აქვს: 1, 3, 5 და 15. რიცხვი 1 მარტივი არ არის, რადგან მხოლოდ ერთი გამყოფი გააჩნია."),
        paragraph("ნებისმიერი ნატურალური რიცხვი, რომელიც მეტია 1-ზე, ან მარტივია ან შედგენილი. შედგენილი რიცხვებისთვის ძალაშია შემდეგი მტკიცება:"),
        paragraph([
            strong("თეორემა."),
            text(" ნებისმიერი შედგენილი ნატურალური რიცხვი შეიძლება წარმოდგენილ იქნას მისი მარტივი გამყოფების ნამრავლად, და ეს წარმოდგენა ერთადერთია.")
        ]),
        mathBlock("$$\\begin{align} 20 &= 2 \\cdot 2 \\cdot 5,\\\\ 14 &= 2 \\cdot 7,\\\\ 81 &= 3 \\cdot 3 \\cdot 3 \\cdot 3,\\\\ 484 &= 2 \\cdot 2 \\cdot 11 \\cdot 11. \\end{align}$$"),
        paragraph("შედგენილი რიცხვის მარტივ მამრავლებად გასაშლელად სასარგებლოა შემდეგი პროცედურა: რიცხვი იწერება მარცხნივ, მის გასწვრივ მარჯვნივ ჩაწერილია მისი უმცირესი მარტივი გამყოფი, ქვემოთ — მიღებული განაყოფი და ამ განაყოფის უმცირესი მარტივი გამყოფი და ა.შ. მაგალითად, 525-ისთვის მივიღებთ:"),
        table(
            [
                ["525", "3"],
                ["175", "5"],
                ["35", "5"],
                ["7", "7"],
                ["1", ""]
            ],
            {
                columnStyles: [
                    "border: 1px solid #d4d4d8; padding: 4px 8px; text-align: right; font-weight: 600;",
                    "border: 1px solid #d4d4d8; padding: 4px 8px; text-align: right;"
                ]
            }
        ),
        paragraph("რის შედეგადაც ვიგებთ \\(525 = 3 \\cdot 5^2 \\cdot 7\\).")
    ])
);

mainContent.push(
    section("უდიდესი საერთო გამყოფი", [
        paragraph("რამდენიმე ნატურალური რიცხვის საერთო გამყოფი არის ისეთი რიცხვი, რომელიც ყოველი მათგანის გამყოფს წარმოადგენს. \\(k, m, \\ldots, n\\) ნატურალური რიცხვების უდიდესი საერთო გამყოფი ეწოდება მათ საერთო გამყოფებს შორის უდიდესს და აღინიშნება \\(D(k, m, \\ldots, n)\\)-ით."),
        paragraph("თუ \\(D(m, n) = 1\\), მაშინ \\(m\\) და \\(n\\) ურთიერთმარტივი რიცხვებია. ორი მარტივი რიცხვი ყოველთვის ურთიერთმარტივია, მაგრამ ორი შედგენილი რიცხვიც შეიძლება იყოს ურთიერთმარტივი (მაგალითად, 8 და 9)."),
        paragraph([
            strong("მაგალითი."),
            text(" იპოვეთ \\(D(126; 540; 630)\\).")
        ]),
        paragraph([
            strong("ამოხსნა."),
            text(" გავაშალოთ მოცემული რიცხვები მარტივ მამრავლებად:")
        ]),
        table(
            [
                ["126", "2", "540", "2", "630", "2"],
                ["63", "3", "270", "2", "315", "3"],
                ["21", "3", "135", "3", "105", "3"],
                ["7", "7", "45", "3", "35", "5"],
                ["1", "", "15", "3", "7", "7"],
                ["", "", "5", "5", "1", ""],
                ["", "", "1", "", "", ""]
            ]
            , {
                columnStyles: [
                    "border: 1px solid #d4d4d8; padding: 4px 6px; text-align: right; font-weight: 600;",
                    "border: 1px solid #d4d4d8; padding: 4px 6px; text-align: right;",
                    "border: 1px solid #d4d4d8; padding: 4px 6px; text-align: right; font-weight: 600;",
                    "border: 1px solid #d4d4d8; padding: 4px 6px; text-align: right;",
                    "border: 1px solid #d4d4d8; padding: 4px 6px; text-align: right; font-weight: 600;",
                    "border: 1px solid #d4d4d8; padding: 4px 6px; text-align: right;"
                ]
            }
        ),
        paragraph("ვიღებთ \\(126 = 2 \\cdot 3^2 \\cdot 7\\), \\(540 = 2^2 \\cdot 3^3 \\cdot 5\\), \\(630 = 2 \\cdot 3^2 \\cdot 5 \\cdot 7\\). საერთო მამრავლად რიცხვი 2 ერთჯერ შედის, ხოლო 3 — ორჯერ, შესაბამისად"),
        mathBlock("$$D(126; 540; 630) = 2 \\cdot 3^2 = 18.$$")
    ])
);

mainContent.push(
    section("უმცირესი საერთო ჯერადი", [
        paragraph("რამდენიმე ნატურალური რიცხვის საერთო ჯერადი არის რიცხვი, რომელიც თითოეული მათგანის ჯერადს წარმოადგენს. \\(k, m, \\ldots, n\\) რიცხვების უმცირესი საერთო ჯერადი ეწოდება მათ საერთო ნატურალურ ჯერადთა შორის უმცირესს და აღინიშნება \\(K(k, m, \\ldots, n)\\)-ით."),
        paragraph([
            strong("მაგალითი."),
            text(" იპოვეთ \\(K(270; 300; 315)\\).")
        ]),
        paragraph([
            strong("ამოხსნა."),
            text(" გავაშალოთ მოცემული რიცხვები მარტივ მამრავლებად:")
        ]),
        table(
            [
                ["270", "2", "300", "2", "315", "3"],
                ["135", "3", "150", "2", "105", "3"],
                ["45", "3", "75", "3", "35", "5"],
                ["15", "3", "25", "5", "7", "7"],
                ["5", "5", "5", "5", "1", ""],
                ["1", "", "1", "", "", ""]
            ],
            {
                columnStyles: [
                    "border: 1px solid #d4d4d8; padding: 4px 6px; text-align: right; font-weight: 600;",
                    "border: 1px solid #d4d4d8; padding: 4px 6px; text-align: right;",
                    "border: 1px solid #d4d4d8; padding: 4px 6px; text-align: right; font-weight: 600;",
                    "border: 1px solid #d4d4d8; padding: 4px 6px; text-align: right;",
                    "border: 1px solid #d4d4d8; padding: 4px 6px; text-align: right; font-weight: 600;",
                    "border: 1px solid #d4d4d8; padding: 4px 6px; text-align: right;"
                ]
            }
        ),
        paragraph("ვიღებთ \\(270 = 2 \\cdot 3^3 \\cdot 5\\), \\(300 = 2^2 \\cdot 3 \\cdot 5^2\\), \\(315 = 3^2 \\cdot 5 \\cdot 7\\). ამიტომ"),
        mathBlock("$$K(270; 300; 315) = 2^2 \\cdot 3^3 \\cdot 5^2 \\cdot 7 = 18900.$$")
    ])
);

mainContent.push(
    section("ნაშთი. ნაშთების არითმეტიკის ელემენტები", [
        paragraph("თუ \\(m\\) და \\(n\\) ნატურალური რიცხვებია, არსებობს ერთადერთი წყვილი მთელი რიცხვებისა \\(k\\) და \\(r\\) ისეთი, რომ \\(n = m \\cdot k + r\\) და \\(0 \\leq r < m\\). \\(r\\)-ს ეწოდება \\(n\\)-ის \\(m\\)-ზე გაყოფით მიღებული ნაშთი, ხოლო \\(k\\)-ს — განაყოფი. მაგალითად, 28-ის 8-ზე გაყოფით \\(28 = 8 \\cdot 3 + 4\\), სადაც ნაშთი 4-ია. რიცხვი \\(n\\) არის \\(m\\)-ის ჯერადი მაშინ და მხოლოდ მაშინ, როდესაც ნაშთი 0-ის ტოლია. მაგალითად, 32-ის 8-ზე გაყოფისას ნაშთი 0-ია. თუ მცირე რიცხვს ვყოფთ მასზე დიდზე, განაყოფი 0 გამოდის და ნაშთი — საწყისი რიცხვი (მაგალითად, 5-ის 7-ზე გაყოფა)."),
        paragraph("არსებობს რამდენიმე სასარგებლო წესი, რომელთა გამოყენებით შეიძლება ნაშთების პოვნა დაუყოვნებლად:"),
        paragraph([
            strong("1)"),
            text(" ორი რიცხვი \\(a\\) და \\(b\\) ერთსა და იმავე \\(m\\) რიცხვზე გაყოფისას მიიღებენ ერთიდაიგივე ნაშთს მაშინ და მხოლოდ მაშინ, როცა \\(a - b\\) არის \\(m\\)-ის ჯერადი.")
        ]),
        paragraph([
            strong("2)"),
            text(" ჯამის \\(m\\)-ზე გაყოფით მიღებული ნაშთი არ იცვლება, თუ მის რომელიმე შესაკრებს (ან ყველას) შევცვლით სხვა რიცხვით, რომელიც \\(m\\)-ზე გაყოფისას იგივე ნაშთს იძლევა.")
        ]),
        paragraph([
            strong("მაგალითი."),
            text(" გამოთვლების გარეშე იპოვეთ შემდეგი ჯამის 7-ზე გაყოფით მიღებული ნაშთი:")
        ]),
        mathBlock("$$8 + 79 + 780 + 7781 + 77782 + 777783.$$"),
        paragraph([
            strong("ამოხსნა."),
            text(" მოცემული შესაკრებები 7-ზე გაყოფისას იძლევიან ნაშთებს 1, 2, 3, 4, 5 და 6. მაგალითად, \\(777783 - 6 = 777777\\) არის 7-ის ჯერადი. 2) წესის თანახმად საკმარისია ვიპოვოთ \\(1 + 2 + 3 + 4 + 5 + 6 = 21\\) — ის ნაშთი 7-ზე გაყოფისას. რადგან 21 7-ის ჯერადია, თავდაპირველი ჯამიც უნაშთოდ იყოფა 7-ზე.")
        ]),
        paragraph([
            strong("3)"),
            text(" ნამრავლის \\(m\\)-ზე გაყოფით მიღებული ნაშთი არ იცვლება, თუ რომელიმე თანამამრავლს (ან ყველა თანამამრავლს) შევცვლით იმ რიცხვით, რომელიც \\(m\\)-ზე გაყოფისას იგივე ნაშთს იძლევა.")
        ]),
        paragraph([
            strong("მაგალითი."),
            text(" ვიპოვოთ \\(7778 \\cdot 7779 \\cdot 7780 \\cdot 7781 \\cdot 7782 \\cdot 7783\\) ნამრავლის 7-ზე გაყოფით მიღებული ნაშთი.")
        ]),
        paragraph([
            strong("ამოხსნა."),
            text(" რადგან \\(7778 - 1 = 7777\\) არის 7-ის ჯერადი, 7778-ს ვანაცვლებთ 1-ით, ხოლო დანარჩენებს — შესაბამისად 2, 3, 4, 5 და 6-ით. შედეგად მივიღებთ \\(1 \\cdot 2 \\cdot 3 \\cdot 4 \\cdot 5 \\cdot 6 = 720 = 102 \\cdot 7 + 6\\). მაშასადამე ნაშთი 6-ია.")
        ]),
        paragraph([
            strong("მაგალითი."),
            text(" განსაზღვრეთ \\(137^{100}\\)-ის ბოლო ციფრი.")
        ]),
        paragraph([
            strong("ამოხსნა."),
            text(" რიცხვის ბოლო ციფრი არის 10-ზე გაყოფისას მიღებული ნაშთი. რადგან \\(137\\) და \\(7\\) 10-ზე გაყოფისას ერთიდაიგივე ნაშთს იძლევიან, 2) წესის მიხედვით \\(137^{100}\\)-ის ბოლო ციფრი იგივეა, რაც \\(7^{100}\\)-ის. ვაკვირდებით \\(7\\)-ის ხარისხების ბოლო ციფრებს: \\(7^1\\) მთავრდება 7-ით, \\(7^2\\) — 9-ით, \\(7^3\\) — 3-ით, \\(7^4\\) — 1-ით და ციკლი სიგრძით 4 მეორდება. რადგან 100 არის 4-ის ჯერადი, \\(7^{100}\\) მთავრდება 1-ით, მაშასადამე \\(137^{100}\\)-იც მთავრდება 1-ით.")
        ])
    ])
);

mainContent.push(
    section("თვლის ორობითი სისტემა. ათობითიდან ორობითში გადაყვანა და პირიქით", [
        paragraph("როგორც ვიცით, ნატურალური რიცხვის ათობით ჩანაწერში მარჯვენა ყველაზე ბოლო ციფრი 10-ზე გაყოფისას მიღებული ნაშთია, ბოლო ორი ციფრი — 100-ზე გაყოფით მიღებული ნაშთი და ა.შ. ანუ ათობითი ჩანაწერი მიიღება რიცხვის 10-ზე განმეორებითი გაყოფით და ნაშთების ზედიზედ ჩაწერით, სანამ განაყოფი ნული არ გახდება."),
        paragraph("ანალოგიურად, რიცხვის ორობითი ჩანაწერის მისაღებად მას ვყოფთ 2-ზე, მიღებულ განაყოფს კვლავ ვყოფთ 2-ზე და ასე ვაგრძელებთ, სანამ განაყოფი ნულს არ მიაღწევს. ნაშთების თანმიმდევრობა შეადგენს ორობით ჩანაწერს. რადგან ნაშთი გამყოფზე ნაკლებია, ორობით ჩანაწერში მხოლოდ 0-ები და 1-ები შეიძლება იყოს."),
        paragraph("იმისათვის, რომ ორობითი და ათობითი ჩანაწერი არ აგვერიოს, ორობით ჩანაწერს მიუთითებენ ფუძეს."),
        paragraph([
            strong("მაგალითი."),
            text(" ვნახოთ, რას უდრის 100-ის ორობითი ჩანაწერი.")
        ]),
        table(
            [
                ["100", "2"],
                ["50", "2"],
                ["25", "2"],
                ["12", "2"],
                ["6", "2"],
                ["3", "2"],
                ["1", "2"],
                ["0", ""]
            ],
            {
                columnStyles: [
                    "border: 1px solid #d4d4d8; padding: 4px 8px; text-align: right; font-weight: 600;",
                    "border: 1px solid #d4d4d8; padding: 4px 8px; text-align: right;"
                ]
            }
        ),
        paragraph("ნაშთების თანმიმდევრობაა 0, 0, 1, 0, 0, 1, 1, შესაბამისად \\((1100100)_2\\) არის რიცხვი 100 ორობით სისტემაში:"),
        mathBlock("$$100 = (1100100)_2.$$"),
        paragraph("მაგალითად, \\((101)_2\\) და \\((10010)_2\\) სწორად ჩაწერილი ნატურალური რიცხვებია, ხოლო \\((10201)_2\\) ან \\((2031)_2\\) — არა."),
        paragraph("ორობით ჩანაწერის ათობით მნიშვნელობის მისაღებად, სულაც არ არის საჭირო განმეორებითი გაყოფა — საკმარისია 2-ის შესაბამისი ხარისხებით გავამრავლოთ ციფრები. მაგალითად:"),
        mathBlock("$$1029 = 1 \\cdot 10^3 + 0 \\cdot 10^2 + 2 \\cdot 10^1 + 9 \\cdot 10^0 = 1000 + 20 + 9,$$"),
        paragraph("ანუ ჩანაწერის მნიშვნელობა გამოითვლება საფუძველის ხარისხების გამოყენებით. ანალოგიურად:"),
        mathBlock("$$ (10011)_2 = 1 \\cdot 2^4 + 0 \\cdot 2^3 + 0 \\cdot 2^2 + 1 \\cdot 2^1 + 1 \\cdot 2^0 = 16 + 2 + 1 = 19. $$"),
        paragraph([
            strong("მაგალითი."),
            text(" რომელია მეტი: 35 თუ \\((110111)_2\\)?")
        ]),
        paragraph([
            strong("ამოხსნა."),
            text(" \\((110111)_2 = 1 \\cdot 2^5 + 1 \\cdot 2^4 + \\ldots\\)-ის პირველი ორი წევრი იძლევა \\(32 + 16 = 48\\), რაც უკვე მეტია 35-ზე, შესაბამისად \\((110111)_2 > 35\\).")
        ]),
        paragraph([
            strong("მაგალითი."),
            text(" თუ მეგობარმა ჩაიფიქრა მთელი რიცხვი 1-სა და 1000-ს შორის, შესაძლებელია თუ არა 10 კითხვაში (პასუხებით „დიახ\" ან „არა\") მისი გამოცნობა?")
        ]),
        paragraph([
            strong("ამოხსნა."),
            text(" პირველი კითხვა შეიძლება იყოს: იყოფა თუ არა ჩაფიქრებული რიცხვი 2-ზე? თუ დიახ — ვწერთ 0-ს, თუ არა — 1-ს. შემდეგ ვაგრძელებთ განაყოფის 2-ზე გაყოფით და ყოველ ნაბიჯზე ვკითხულობთ ნაშთის შესახებ. მიღებული პასუხები ქმნის ჩაფიქრებული რიცხვის ორობით ჩანაწერს, რის შემდეგაც მარტივად ვადგენთ რიცხვს.")
        ])
    ])
);

mainContent.push(
    element("div", {
        classes: ["text-center", "mt-12", "mb-8"],
        children: [
            element("h1", {
                classes: ["text-2xl", "font-bold", "mb-2"],
                children: [text("ნაწილი II")]
            }),
            element("h2", {
                classes: ["text-xl", "font-bold"],
                children: [text("§ 1. ნატურალური და მთელი რიცხვები")]
            })
        ]
    })
);

mainContent.push(
    element("section", {
        classes: ["mb-10"],
        children: [
            element("h2", {
                classes: ["text-xl", "font-bold", "mb-6"],
                children: [text("სავარჯიშოების ნაკრები A")]
            }),
            buildExerciseList(exerciseItemsData)
        ]
    })
);

mainContent.push(
    element("section", {
        classes: ["mb-10"],
        children: [
            element("h2", {
                classes: ["text-xl", "font-bold", "mb-6"],
                children: [text("საკონტროლო ტესტი N1 (A)")]
            }),
            buildQuizForm(quizQuestionsData)
        ]
    })
);

mainContent.push(
    element("div", {
        classes: ["text-center", "text-sm", "text-gray-600", "mt-8"],
        children: [
            element("em", {
                children: [
                    text("თარგმნის შენიშვნა: OCR-დან მიღებულ ფრაგმენტებში რამდენიმე ამოცანა დაზუსტდა. მათემატიკური ჩანაწერები, ნუმერაცია და ვარიანტები სრულად ემთხვევა წყაროს PDF-ს.")
                ]
            })
        ]
    })
);

const output = {
    meta,
    mainContent,
    answerKey: quizAnswerKey
};

fs.writeFileSync(
    path.join(__dirname, "..", "content-ka.json"),
    JSON.stringify(output, null, 2),
    "utf8"
);

console.log("content-ka.json updated.");
